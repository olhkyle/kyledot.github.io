{"componentChunkName":"component---src-templates-blog-post-js","path":"/execution-context/","result":{"data":{"site":{"siteMetadata":{"title":"KYLE."}},"markdownRemark":{"id":"7949f455-008e-511c-9fa8-c77440b2cbea","excerpt":"의 코드 실행 순서 그리고 스코프와 관련하여 이해도를 높이기 위해 이 글을 작성하게 되었습니다. 1. About Execution Context…","html":"<blockquote>\n<p><code class=\"language-text\">JavaScript</code>의 <strong>코드 실행 순서</strong> 그리고 <strong>스코프</strong>와 관련하여 이해도를 높이기 위해 이 글을 작성하게 되었습니다.</p>\n</blockquote>\n<br/>\n<h2>1. About Execution Context</h2>\n<p><strong>실행 컨텍스트</strong>는 <strong>식별자</strong>, <strong>스코프</strong>, 그리고 <strong>코드의 실행 순서</strong>를 관리하는 <code class=\"language-text\">JavaScript</code>의 핵심 개념입니다. <strong>실행 컨텍스트</strong>는 스코프를 기반으로 식별자와 식별자에 바인딩된 값, 스코프 체인, 클로저 동작 방식 등을 이해하는 데 도움이 됩니다.</p>\n<blockquote>\n<p><b>실행 컨텍스트(Execution Context)</b>는 <strong>자바스크립트의 4가지 소스코드</strong>가 평가되면 생성됩니다.</p>\n</blockquote>\n<blockquote>\n<p><strong>전역 코드</strong> | <strong>함수 코드</strong> | <strong>eval 코드</strong> | <strong>모듈 코드</strong></p>\n</blockquote>\n<hr>\n<br/>\n<p>일반적으로 <strong>소스 코드 평가과정 / 런타임 이전</strong>에는 변수, 함수 등의 선언문만 먼저 실행하여 생성된 변수와 함수를 키로 <b>실행 컨텍스트가 관리하는 스코프(렉시컬 환경의 환경 레코드)</b>에 등록합니다.</p>\n<p><strong>소스 코드 실행과정 / 런타임</strong>에는 선언문을 제외한 모든 소스 코드가 순차적으로 실행됩니다. 소스 코드 실행에 필요한 정보 즉, <strong>변수</strong>나 <strong>함수</strong>의 참조를 <code class=\"language-text\">스코프 체인</code>을 통해 검색하고, 필요한 <strong>메서드</strong>는 <code class=\"language-text\">프로토타입 체인</code> 상에서 검색하여 취득합니다.</p>\n<br/>\n<p>변수 값의 변경 등의 소스 코드 변경은 다시 실행 컨텍스트가 관리하는 <b>렉시컬 환경의 환경 레코드(Environment Record of Lexical Environment)</b>에 등록됩니다.</p>\n<p>예를 들어, <strong>소스코드 평가 과정</strong>에서는 <code class=\"language-text\">var</code> 키워드로 선언한 변수에 <code class=\"language-text\">undefined</code>, <code class=\"language-text\">let</code>, <code class=\"language-text\">const</code> 키워드로 선언한 변수에는 <code class=\"language-text\">&lt;uninitialized></code>와 같이 표현되어 있습니다. 하지만, <strong>소스코드 실행 과정</strong>에서 할당문이 실행되므로 <strong>값이 업데이트</strong> 됩니다.</p>\n<ul>\n<li>\n<p>전역 코드인 경우 <code class=\"language-text\">Object Environment Record</code>의 <code class=\"language-text\">BindingObject</code> 객체에 등록된 <code class=\"language-text\">window</code> 전역 객체에 값이 업데이트</p>\n</li>\n<li>\n<p>함수 코드인 경우 <code class=\"language-text\">Function Environment Record</code>에 해당 변수의 값이 업데이트</p>\n</li>\n</ul>\n<br/>\n<br/>\n<h2>2. Whole Process of Execution Context's generation with Lexical Environment</h2>\n<p>다음의 코드 예시로, <strong>실행 컨텍스트</strong>가 실행 컨텍스트 스택에 언제 푸시되고, <strong>렉시컬 환경</strong>은 언제 생성되며, 변수에 대한 값은 언제 변경되는지, 그리고 <strong>코드 실행 순서</strong>는 어떻게 제어 되는지 확인해 보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> y <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">const</span> y <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token keyword\">function</span> <span class=\"token function\">bar</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">const</span> z <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">+</span> b <span class=\"token operator\">+</span> x <span class=\"token operator\">+</span> y <span class=\"token operator\">+</span> z<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<h3>01 전역 객체 생성</h3>\n<p>전역 코드 평가 이전에 전역 객체가 생성됩니다.</p>\n<p>이 전역 객체에는 <strong>빌트인 전역 프로퍼티</strong>(e.g. <code class=\"language-text\">Infinity</code>,<code class=\"language-text\">undefined</code>, <code class=\"language-text\">NaN</code>), <strong>빌트인 전역함수</strong>(e.g. <code class=\"language-text\">isFinite</code>, <code class=\"language-text\">parseFloat</code>), <strong>표준빌트인 객체</strong> (e.g. <code class=\"language-text\">Object</code>, <code class=\"language-text\">Number</code>, <code class=\"language-text\">String</code>, <code class=\"language-text\">Boolean</code>, ...)가 추가되고, 환경에 따라 <strong>호스트 객체</strong> (브라우저 환경에서는 DOM, BOM, Canvas 와 같은 Web API / nodeJS 환경의 API)를 포함하게 됩니다. 이 전역 객체는 <code class=\"language-text\">Object.prototype</code> 을 상속받습니다.</p>\n<br/>\n<h3>02 전역 코드 평가</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/999f236c0ceffda44973edf6e3534748/9b29b/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA+UlEQVR42s2SWWvEMAyE8///4LIvzd0cNjGOczrHVOOyLOz2oZA+1BCCxejTWFJU1zWKokBVVTjPE1dPtO87CCWwaZrL0GjbNqRpijiOkWUZjuO4DiQoSRLkef43Dv8PkNoX/a+AHBx1/H9zznA/ftA+h/LxHApj8zzDex+SjTFQSqF3LkCXZYHWGlb0u+je1qYsy7CLXB+KCa4b2c/PIsCatoUWoNEK8zQFDQva2w3e2ncgd7CVJCUJTlywQO96TJI8jWOIdeJI3+/wAholzle4YUAnBU3XYRQdXxOAXGi64/faw8d9XVc4SXq0gYcQJUasuBwEznZ9AfXJWhmfjQoIAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"execution-context-assessment\"\n        title=\"\"\n        src=\"/static/999f236c0ceffda44973edf6e3534748/37523/1.png\"\n        srcset=\"/static/999f236c0ceffda44973edf6e3534748/e9ff0/1.png 180w,\n/static/999f236c0ceffda44973edf6e3534748/f21e7/1.png 360w,\n/static/999f236c0ceffda44973edf6e3534748/37523/1.png 720w,\n/static/999f236c0ceffda44973edf6e3534748/302a4/1.png 1080w,\n/static/999f236c0ceffda44973edf6e3534748/07a9c/1.png 1440w,\n/static/999f236c0ceffda44973edf6e3534748/9b29b/1.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li><strong>전역 실행 컨텍스트 생성</strong>\n<ol>\n<li>전역 코드를 평가하면서, <strong>비어 있는 전역 실행 컨텍스트</strong>를 생성하고, 실행 컨텍스트 스택에 push 합니다. 실행 컨텍스트 스택의 최상위에존재하므로, <strong>현재 실행 중인 실행 컨텍스트</strong>라고 이야기 할 수 있습니다.</li>\n</ol>\n</li>\n<li><strong>전역 렉시컬 환경 생성</strong>\n<ol>\n<li>전역 렉시컬 환경을 생성하고, 전역 실행 컨텍스트의 <code class=\"language-text\">LexicalEnvironment</code> 에 바인딩 합니다.</li>\n<li><strong>전역 환경 레코드 생성</strong>\n<ol>\n<li><strong>객체 환경 레코드 생성</strong>\n<ol>\n<li>전역 환경 레코드를 구성하는 컴포넌트인 객체 환경 레코드는 <code class=\"language-text\">BindingObject</code> 라고 불리는 객체와 연결됩니다.</li>\n<li>이 객체는 전역 객체 생성 단계에서 생성된 <strong>전역 객체</strong>라고 볼 수 있습니다.</li>\n<li>전역 변수 <code class=\"language-text\">x</code> 와 <code class=\"language-text\">foo</code> 는 객체 환경 레코드를 통해 객체 환경 레코드의 <code class=\"language-text\">BindingObject</code> 객체에 바인딩 되어 있는 전역 객체의 프로퍼티와 메서드가 됩니다.</li>\n</ol>\n</li>\n<li><strong>선언적 환경 레코드 생성</strong>\n<ol>\n<li><code class=\"language-text\">let</code>, <code class=\"language-text\">const</code> 키워드로 선언한 변수는 전역 객체의 프로퍼티가 되지 않고, <strong>개념적인 블록</strong>에 존재하게 됩니다. 개념적인 블록은 전역 환경 레코드에 바인딩 되어 있는 <strong>선언적 환경 레코드</strong>라고 이야기 할 수 있고, <code class=\"language-text\">let</code>, <code class=\"language-text\">const</code> 키워드로 선언한 변수는 선언적 환경 레코드에 등록됩니다.</li>\n<li><code class=\"language-text\">let</code>, <code class=\"language-text\">const</code> 키워드로 선언한 변수는 소스 코드 평가 과정에서 <code class=\"language-text\">&lt;uninitialized></code> 로 표시되어 있는데, 이 2가지 키워드로 선언한 변수는 런타임 이전(소스 코드 평가 과정)에 <strong>선언 단계</strong>와 <strong>초기화 단계</strong>가 분리되어 진행됩니다.</li>\n<li>런타임에 변수가 선언되어 있는 스코프 선두로부터 변수 선언문(초기화 단계 - 할당)에 도달하기 전까지 <strong>Temporal Dead Zone / TDZ</strong>에 빠지게 됩니다.</li>\n<li>이를 통해, 런타임에 <code class=\"language-text\">console.log</code>와 같은 API를 통해 변수를 참조하게 되면 <strong>ReferenceError</strong>가 발생하는 것을 확인할 수 있고, 이는 <code class=\"language-text\">let</code>, <code class=\"language-text\">const</code> 키워드로 선언한 변수도 호이스팅이 발생한다는 것을 알 수 있습니다.</li>\n</ol>\n</li>\n</ol>\n</li>\n<li><strong>this 바인딩</strong>\n<ol>\n<li><code class=\"language-text\">[[GlobalThisValue]]</code> 라는 내부 슬롯에 <code class=\"language-text\">this</code>라는 식별자와 값을 연결하는 자기 참조 변수가 바인딩됩니다. <code class=\"language-text\">this</code> 는 전역 코드에 서 <code class=\"language-text\">window</code>, 즉 전역 객체를 가리키므로, 내부 슬롯에는 전역 객체가 바인딩 됩니다.</li>\n</ol>\n</li>\n<li><strong>외부 렉시컬 환경에 대한 참조 생성</strong>\n<ol>\n<li>외부 렉시컬 환경에 대한 참조는 현재 평가 중인 소스 코드를 포함하는 <strong>외부 코드의 렉시컬 환경</strong>, 즉 <strong>상위 스코프</strong>를 가리킵니다.</li>\n<li>이를 통해 <strong>단방향 링크드 리스트</strong> 형태인 <strong>스코프 체인</strong>을 구현합니다.</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<br/>\n<h3>03 전역 코드 실행</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8a815d6d27eb1b3b38136f57128b1455/9b29b/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA1ElEQVR42tWSxw6EMAxE+f+fpHdECDWUMJvxEdBe2MtGskIs53mCx8vzHGmaIo5jWGvxdnnHcaAoCmRZhrIscZ7nO+C+7wjDEL7vI4qi1yoFSFAQBPLsnyj8fyAHxzruXKzh2T7UPg6FuWVZZOdlpRTquobWWqDGGDRNA+0sZ7ftbhv6MEkSsQ+LCaY/2ajrOrETAW3bSiPWGLcrl9/c9w3Iy1VVSYzjKA36vsc0TZjnGcMwiMrGqVzXVXKbU7a711x/kQCpgOoY1wKeGQQQTOC3wX0AP2RbsGbIEm0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"global code execution\"\n        title=\"\"\n        src=\"/static/8a815d6d27eb1b3b38136f57128b1455/37523/2.png\"\n        srcset=\"/static/8a815d6d27eb1b3b38136f57128b1455/e9ff0/2.png 180w,\n/static/8a815d6d27eb1b3b38136f57128b1455/f21e7/2.png 360w,\n/static/8a815d6d27eb1b3b38136f57128b1455/37523/2.png 720w,\n/static/8a815d6d27eb1b3b38136f57128b1455/302a4/2.png 1080w,\n/static/8a815d6d27eb1b3b38136f57128b1455/07a9c/2.png 1440w,\n/static/8a815d6d27eb1b3b38136f57128b1455/9b29b/2.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li><strong>전역 코드 실행</strong>\n<ul>\n<li>런타임 단계로 선언문을 제외한 모든 코드가 실행되기 시작하여, 식별자 결정을 통해 실행 중인 실행 컨텍스트의 렉시컬 환경에 존재하는 식별자를 검색합니다.</li>\n<li>현재는 해당 렉시컬 환경에 <code class=\"language-text\">x</code>와 <code class=\"language-text\">y</code>라는 변수가 존재하기 때문에, <code class=\"language-text\">x</code>라는 변수에는 1이라는 값이 할당되고, 선언적 환경레코드에 등록되어 있던 <code class=\"language-text\">y</code>라는 변수에는 2라는 값이 할당됩니다.</li>\n<li>하지만, 존재하지 않는 경우 <strong>외부 렉시컬 환경에 대한 참조</strong>를 통해 상위 스코프로 이동하여 식별자 결정을 통해 식별자를 검색하게 되는데, 전역 렉시컬 환경은 스코프 체인의 종점이기 때문에, 상위 스코프가 존재하지 않아, 해당 렉시컬 환경에 존재하지 않는 변수를 참조하게 될 경우 <strong>ReferenceError</strong> 를 발생시키게 됩니다.</li>\n</ul>\n</li>\n<li><strong><code class=\"language-text\">foo</code> 함수로 코드의 제어권 이동</strong>\n<ul>\n<li>foo 함수 호출문이 실행되어 코드의 제어권이 foo 함수로 이동하게 됩니다.</li>\n</ul>\n</li>\n</ol>\n<br/>\n<h3>04 foo 함수 코드 평가</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/72948722d8a9c1d9aac1da4a19695a17/9b29b/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABM0lEQVR42qWT2W6DMBRE8/+fl7yz7xD2xazTO7cKDy1qq8aSBb42xzNjc8vzHL7vw3VdVFUFtuM48N92W9cVSZIgiiKkafoW7ARSnW3b8DwP+76/DyTIcRy1/lUhx+M0YRgGGHn+5uAEUiWBVLhtG+Z5BucIiCUSTzbMHg9sxvwM5MdxHCuUGS7LAsuyFJ7lmapaBLyMI8z9jl3GfwLyYPIiV2t874ce8/qpcjITqucTrbg4ZP0uqlm/yvs8FKri82V5nETRbNRyXdfIsgx11+rcJCqLotA6x98UhmGIIAhUmZGMPNdDkiYIwkDvJqMgoKpKhXENe9M0GtGlZSqg5a7rdINW1IySGztrBPMn4GExFjpjvSxLnWONbhRIBVTHfnVt2AgigIpeNUK4CZX2fa9xfQAuVlZuETJpbAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"foo function code execution\"\n        title=\"\"\n        src=\"/static/72948722d8a9c1d9aac1da4a19695a17/37523/3.png\"\n        srcset=\"/static/72948722d8a9c1d9aac1da4a19695a17/e9ff0/3.png 180w,\n/static/72948722d8a9c1d9aac1da4a19695a17/f21e7/3.png 360w,\n/static/72948722d8a9c1d9aac1da4a19695a17/37523/3.png 720w,\n/static/72948722d8a9c1d9aac1da4a19695a17/302a4/3.png 1080w,\n/static/72948722d8a9c1d9aac1da4a19695a17/07a9c/3.png 1440w,\n/static/72948722d8a9c1d9aac1da4a19695a17/9b29b/3.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li><strong>foo 함수 코드 평가</strong>\n<ol>\n<li><strong>함수 실행 컨텍스트를 생성</strong>\n<ol>\n<li>단, 함수 실행 컨텍스트는 함수 환경 레코드가 생성될 때까지 실행 컨텍스트 스택에 push 하지 않습니다.</li>\n</ol>\n</li>\n<li><strong>함수 렉시컬 환경 생성</strong>\n<ol>\n<li>함수 렉시컬 환경을 생성하고, 함수 실행 컨텍스트의 LexicalEnvironment에 바인딩 합니다.</li>\n<li><strong>함수 환경 레코드 생성</strong>\n<ol>\n<li>함수 렉시컬 환경을 구성하는 컴포넌트인 함수 환경 레코드는 <strong>매개변수</strong>, <code class=\"language-text\">arguments</code> 객체, 함수 내부에 선언한 <strong>지역 변수</strong>와 <strong>중첩 함수</strong>를 등록하고 관리합니다.</li>\n</ol>\n</li>\n<li><strong>this 바인딩</strong>\n<ol>\n<li><code class=\"language-text\">[[ThisValue]]</code> 내부 슬롯에는 <code class=\"language-text\">foo</code> 함수 내부의 <code class=\"language-text\">this</code>가 바인딩 됩니다. <code class=\"language-text\">foo</code> 함수는 일반 함수로서 호출되기 때문에 <code class=\"language-text\">this</code> 에는전역 객체(<code class=\"language-text\">window</code>)가 바인딩 됩니다. (<code class=\"language-text\">this</code> 는 <strong>함수 호출 방식</strong>에 따라 동적으로 결정된다.)</li>\n<li><strong>외부 렉시컬 환경에 대한 참조</strong>\n<ol>\n<li>전역 코드 평가 단계에서 <code class=\"language-text\">foo</code> 함수가 전역 객체의 프로퍼티(메서드)로 할당될 때, 런타임 이전(소스 코드 평가 단계)에 함수 정의가평가되면서 함수 이름과 동일한 식별자가 생성되고, 이 식별자에 함수 객체를 생성하여 할당하게 됩니다.</li>\n<li>함수 객체 생성 시, 현재실행 중인 실행 컨텍스트의 렉시컬 환경, 즉 <code class=\"language-text\">foo</code> 함수의 상위 스코프(여기서는 전역 렉시컬 환경)를 <code class=\"language-text\">[[Environment]]</code> 라는 내부 슬롯에 저장합니다.</li>\n<li>위의 과정을 통해, <code class=\"language-text\">foo</code> 함수가 호출되어 <code class=\"language-text\">foo</code> 함수 코드를 평가하는 단계에 외부 렉시컬 환경에 대한 참조에 할당되는 것은 <code class=\"language-text\">[[Environment]]</code> 내부 슬롯에 저장된 렉시컬 환경에 대한 참조 입니다. 이것이 바로 렉시컬 스코프, <strong>함수가 어디서 정의되었는지</strong>에 따라 <strong>상위 스코프</strong>를 결정하는 메커니즘입니다.</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<br/>\n<h3>05 foo 함수 코드 실행</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4266e47e941bb419409d1f0fc4a84e50/9b29b/4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABH0lEQVR42qWSV47DMAxEc/8zBu4lLnAvslwmHC7ijyTILjYCBMqm9DhD6VIUBcIwhOd54JrjOA78d1zWdcXtdkOSJMiy7CvYCfR9H67rIggC7Pv+PZAgWqb1Z4X8nuYZ4zjCSPzNwQmkSgKpcNs2LMsC5ghIpSWB5LPrFZu1n4E8nKapQtlDKwccx1F4XuSqygrYSpwFukuhPwF5MUVZqDWuh3HAsv6onAXWNA0y2bfLfrrg/3f9Pi+Fqhgflqd5glmMWiYsz3ONzLFAWZZo2/YFqgrjOEYURarMGKP2qZoFVJm0goCqqhTG/nIfc/app6dlKuDDHoZBC3Rdp/anaULf96jrGqXkCeM/gh6X9gKkAqrjfPdsOAkgmMBPT+cOpJNX1ANmoxsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"foo function code execution\"\n        title=\"\"\n        src=\"/static/4266e47e941bb419409d1f0fc4a84e50/37523/4.png\"\n        srcset=\"/static/4266e47e941bb419409d1f0fc4a84e50/e9ff0/4.png 180w,\n/static/4266e47e941bb419409d1f0fc4a84e50/f21e7/4.png 360w,\n/static/4266e47e941bb419409d1f0fc4a84e50/37523/4.png 720w,\n/static/4266e47e941bb419409d1f0fc4a84e50/302a4/4.png 1080w,\n/static/4266e47e941bb419409d1f0fc4a84e50/07a9c/4.png 1440w,\n/static/4266e47e941bb419409d1f0fc4a84e50/9b29b/4.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li>\n<p><strong>foo 함수 코드 실행</strong></p>\n<ol>\n<li><code class=\"language-text\">foo</code> 함수의 소스 코드가 실행되기 시작하여, <strong>매개변수</strong>에는 <strong>인수</strong>가 할당되고, <strong>변수 할당문</strong>이 실행되어 지역 변수 <code class=\"language-text\">x</code>, <code class=\"language-text\">y</code> 에 값이 할당되며, <code class=\"language-text\">bar</code> 함수가 호출됩니다.</li>\n</ol>\n</li>\n<li>\n<p><strong>bar 함수로 코드의 제어권 이동</strong></p>\n</li>\n</ol>\n<br/>\n<h3>06 bar 함수 코드 평가</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/be9aa9dd7333baeed877e39900a930c7/9b29b/5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABR0lEQVR42qWSCW6DMBBFc/8jRioRZGMLS9gMGH78rFK1UaJWKpIFg8d/G++yLNPxeFQYhqqqSv99dtZaXS4XRVGkOI5FXRSF8jz3BPM863a7KUkSVWmqxe3/Cng+n3U6nZTlmbquUxRGQnlZlzLGqChL5Q6s2O9lXb2sqyd6CcgG7Kk7kKSJpmlSXdcyo5FdrVZ3GJLmflfrSFA4u9X3/XtA8jscDv69LIsHAdhMxjddr1efc+xI7adlet5a5gAZohSg4CPwAGmWahgG/28cR7Vt6wn/BMhAtgz5brtW4zz6rLAHGFEATA3JBv7SchAEX5Yh6Yfe54gSps3U7y5H+gGnhuAZ9MeUUcZUsY/q7W4SBVMv3PUhAlTSxx5KX1pmyhyCHQLUYB97TdOo5Oq4/e+WUfucpQdEAepYzw3U29QBBvDdQAB8ALImVLAVPeu3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"bar function code assessment\"\n        title=\"\"\n        src=\"/static/be9aa9dd7333baeed877e39900a930c7/37523/5.png\"\n        srcset=\"/static/be9aa9dd7333baeed877e39900a930c7/e9ff0/5.png 180w,\n/static/be9aa9dd7333baeed877e39900a930c7/f21e7/5.png 360w,\n/static/be9aa9dd7333baeed877e39900a930c7/37523/5.png 720w,\n/static/be9aa9dd7333baeed877e39900a930c7/302a4/5.png 1080w,\n/static/be9aa9dd7333baeed877e39900a930c7/07a9c/5.png 1440w,\n/static/be9aa9dd7333baeed877e39900a930c7/9b29b/5.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li><strong><code class=\"language-text\">bar</code> 함수 코드 평가</strong>\n<ol>\n<li><strong>함수 실행 컨텍스트를 생성</strong>\n<ol>\n<li>단, 함수 실행 컨텍스트는 함수 환경 레코드가 생성될 때까지 실행 컨텍스트 스택에 push 하지 않습니다.</li>\n</ol>\n</li>\n<li><strong>함수 렉시컬 환경 생성</strong>\n<ol>\n<li>함수 렉시컬 환경을 생성하고, 함수 실행 컨텍스트의 LexicalEnvironment에 바인딩 합니다.</li>\n<li><strong>함수 환경 레코드 생성</strong>\n<ol>\n<li>함수 렉시컬 환경을 구성하는 컴포넌트인 함수 환경 레코드는 <strong>매개변수</strong>, <code class=\"language-text\">arguments</code> 객체, 함수 내부에 선언한 <strong>지역 변수</strong>와 <strong>중첩 함수</strong>를 등록하고 관리합니다.</li>\n</ol>\n</li>\n<li><strong>this 바인딩</strong>\n<ol>\n<li><code class=\"language-text\">[[ThisValue]]</code> 내부 슬롯에는 <code class=\"language-text\">bar</code> 함수 내부의 <code class=\"language-text\">this</code>가 바인딩 됩니다. <code class=\"language-text\">bar</code> 함수는 일반 함수로서 호출되기 때문에 <code class=\"language-text\">this</code> 에는 전역 객체(<code class=\"language-text\">window</code>)가 바인딩 됩니다. (<code class=\"language-text\">this</code> 는 <strong>함수 호출 방식</strong>에 따라 동적으로 결정된다.)</li>\n<li><strong>외부 렉시컬 환경에 대한 참조</strong>\n<ol>\n<li><code class=\"language-text\">foo</code> 함수 코드 평가 단계에서 <code class=\"language-text\">bar</code> 함수는 함수 정의를 평가하여 함수 이름과 동일한 식별자를 생성하고, 함수 객체를 생성하여 할당 하는데, 이 때 현재 실행 중인 실행 컨텍스트의 렉시컬 환경, 즉 <code class=\"language-text\">bar</code> 함수의 상위 스코프(<code class=\"language-text\">bar</code> 함수가 정의되어 있는 <code class=\"language-text\">foo</code> 함수의 렉시컬 환경)을 <code class=\"language-text\">[[Environment]]</code> 내부 슬롯에 저장합니다.</li>\n<li>위의 과정을 통해, <code class=\"language-text\">bar</code> 함수가 호출되어 <code class=\"language-text\">bar</code> 함수 코드를 평가하는 단계에 외부 렉시컬 환경에 대한 참조에 할당되는 것은 <code class=\"language-text\">[[Environment]]</code> 내부 슬롯에 저장된 렉시컬 환경에 대한 참조 입니다. 이것이 바로 렉시컬 스코프, <strong>함수가 어디서 정의되었는지</strong>에 따라 <strong>상위 스코프</strong>를 결정하는 메커니즘입니다.</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<br/>\n<h3>07 bar 함수 코드 실행</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1aa06717b53f6a917bef2ef401cd88ab/9b29b/6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABR0lEQVR42p2TiW6CMACGff93FANe3IdcBQq//ZppFqPbMpIGStv/hF2WZTqdTgrDUFmeiWvbNv332llrdblcFEWR4jgW87Islee56rrWsiwqikJJkqh25Ktb/xXwfD77gcK+7xWFkVBeNZWMMSqrSnmaqtrvZadJq3MA0VtAFmBP3YEkTTTPs5qmkZmM7Ga9fUja202dU4rCxY1hGD4Dkt/hcPD3dV09CMBmNn7T9XrV8XhU7Ijtl+VPOXvLHCBDlAIU7AMPkGapxnH07yZntes6T/gnQAp5ZMhz13ealslnhT3AiAJg5pA8wN9aDoLgaRmSYRx8jiihbVq/uRzZDzhzCF5Bny3zLaKMVrGPaggAIwpaL10pRIBK9rGG0reWaZlDsEOAGuxjr21bVXw6bv27ZdS+ZukBUYA6xusG5o/WAQbwpz/pDq4RVLKZ1f++AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"bar function code execution\"\n        title=\"\"\n        src=\"/static/1aa06717b53f6a917bef2ef401cd88ab/37523/6.png\"\n        srcset=\"/static/1aa06717b53f6a917bef2ef401cd88ab/e9ff0/6.png 180w,\n/static/1aa06717b53f6a917bef2ef401cd88ab/f21e7/6.png 360w,\n/static/1aa06717b53f6a917bef2ef401cd88ab/37523/6.png 720w,\n/static/1aa06717b53f6a917bef2ef401cd88ab/302a4/6.png 1080w,\n/static/1aa06717b53f6a917bef2ef401cd88ab/07a9c/6.png 1440w,\n/static/1aa06717b53f6a917bef2ef401cd88ab/9b29b/6.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li><strong><code class=\"language-text\">bar</code> 함수 코드 실행</strong>\n<ol>\n<li><code class=\"language-text\">bar</code> 함수의 소스 코드가 실행되기 시작하여, 매개변수 (<code class=\"language-text\">b</code>)에 인수가 할당되고, 변수 할당문이 실행되어 지역 변수 <code class=\"language-text\">z</code>에 값이 할당되며 <code class=\"language-text\">console.log</code> 가 호출된다.</li>\n</ol>\n</li>\n<li><strong>console 식별자 검색, log 메서드 검색 및 호출</strong>\n<ol>\n<li>현재 실행 중인 실행 컨텍스트의 렉시컬 환경 내에서 <code class=\"language-text\">console</code> 이라는 식별자가 존재하는 지 확인합니다. 해당 렉시컬 환경에 존재하지 않으므로, 외부 렉시컬 환경에 대한 참조를 따라, 즉 <strong>스코프 체인</strong> 을 통해 <code class=\"language-text\">foo</code> 함수의 렉시컬 환경으로 이동하여 검색하고, <code class=\"language-text\">foo</code> 함수의 렉시컬 환경에도 존재하지 않기 떄문에, <code class=\"language-text\">foo</code> 함수의 렉시컬 환경에서 외부 렉시컬 환경에 대한 참조를 따라 전역 렉시컬 환경으로 이동하\n여 <code class=\"language-text\">console</code> 식별자를 객체 환경 레코드의 <code class=\"language-text\">BindingObject</code> 객체에 바인딩 된 전역 객체를 검색합니다.</li>\n<li><code class=\"language-text\">console</code> 식별자는 전역 객체에 존재하는 것을 확인할 수 있습니다. 이어서, 해당 식별자의 마침표 표기법 뒤에 있는 <code class=\"language-text\">log</code> 메서드를 <strong>프로토타입 체인</strong>을 통해 메서드를 검색합니다. <code class=\"language-text\">log</code> 메서드는 상속받은 프로퍼티에 존재하지 않고, 객체가 직접 소유한 프로퍼티입니다.</li>\n<li>그리고, <code class=\"language-text\">log</code> 메서드에 전달한 <code class=\"language-text\">a + b + x + y + z</code> 인수인 표현식을 평가하기 위해 각각의 식별자를 현재 실행 중인 실행 컨텍스트부터 시작하여 식별자를 검색하기 시작합니다. 즉, 현재 실행 중인 실행 컨텍스트, <code class=\"language-text\">bar</code> 함수 호출에 의해 <code class=\"language-text\">bar</code> 함수 코드 평가 단계에서 생성된 실행컨텍스트의 렉시컬 환경부터 시작하여, <strong>외부 렉시컬 환경에 대한 참조로 연결되는 스코프 체인</strong>을 따라 식별자를 검색합니다. 4.<code class=\"language-text\">a</code>\n식별자는 <code class=\"language-text\">foo</code> 함수의 렉시컬 환경, <code class=\"language-text\">b</code> 식별자는 <code class=\"language-text\">bar</code> 함수의 렉시컬 환경, <code class=\"language-text\">x</code> 와 <code class=\"language-text\">y</code> 식별자는 <code class=\"language-text\">foo</code> 함수의 렉시컬 환경에서, <code class=\"language-text\">z</code> 식별자는 <code class=\"language-text\">bar</code> 함수의 렉시컬 환경에서 검색합니다. 해당되는 값들로 표현식을 평가한 후 <code class=\"language-text\">log</code> 메서드에 전달하여 최종적으로 호출합니다.</li>\n</ol>\n</li>\n</ol>\n<br/>\n<h3>08 bar 함수 코드 실행 종료</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/352a4be6ba07d3d59470133a48378a63/9b29b/7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABTElEQVR42p2T2Y7CMAxF+f8/5IECZStt6UK3dL2TYw3SCAEzmkpRceMc32uHVZIkOhwOttbrtcqyFM+yLPrPsxrHUVEU6Xw+63q9ijjLMqVpqqIoLL7dbrZX+OLzNP0O3O/32m63pnIYBoVhqDiJlZe5nHPK8lxp7OPNRlPfa/bqOfcWCGC32+l4PFoitl3vNC2TWW+aRtX9rtorReHoV9u2n4GoROE8zwZBqRucJV0uF9uLvO3p2/K7Hq9I4ABQ+gQo2AQGwHbXdfat91bruraCfwIymCRNzB6/66ZWP/bWAuwBoxWAiSnygL8cShAE9iaJIm3XWh9RwrSZ+t33kXzgxBR4hprC0+lkA0EZU8U+qikAjFZwXzM/FFqASvLYQ+lLy7G/FhyiOgVQg33sVVWlnKvj939aRu1zLw2IAtSxnhOIH1MHDPDTv+gLoJxUBoejX90AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"finish bar function code execution\"\n        title=\"\"\n        src=\"/static/352a4be6ba07d3d59470133a48378a63/37523/7.png\"\n        srcset=\"/static/352a4be6ba07d3d59470133a48378a63/e9ff0/7.png 180w,\n/static/352a4be6ba07d3d59470133a48378a63/f21e7/7.png 360w,\n/static/352a4be6ba07d3d59470133a48378a63/37523/7.png 720w,\n/static/352a4be6ba07d3d59470133a48378a63/302a4/7.png 1080w,\n/static/352a4be6ba07d3d59470133a48378a63/07a9c/7.png 1440w,\n/static/352a4be6ba07d3d59470133a48378a63/9b29b/7.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li>\n<p><strong>bar 함수 코드 실행 종료</strong></p>\n<ol>\n<li><code class=\"language-text\">console.log</code> 메서드 호출 이후, <code class=\"language-text\">bar</code> 함수 내부 코드에는 더 이상 실행할 코드가 없으므로, <code class=\"language-text\">bar</code> 함수의 코드 실행이 종료되고, 현재 실행중인 실행 컨텍스트인 <code class=\"language-text\">bar</code> 함수의 실행 컨텍스트는 실행 컨텍스트 스택에서 pop 되어 제거되며, <code class=\"language-text\">foo</code> 함수의 실행 컨텍스트가 현재 실행 중인 실행 컨텍스트가 됩니다.</li>\n</ol>\n</li>\n<li>\n<p><strong>bar 함수 렉시컬 환경의 임시적 생존</strong></p>\n<ol>\n<li>실행 컨텍스트 스택에서 <code class=\"language-text\">bar</code> 함수 실행 컨텍스트가 제거되었다고 해도, <code class=\"language-text\">bar</code> 함수의 렉시컬 환경까지 즉시 소멸되지 않습니다.</li>\n<li>그 이유는 렉시컬 환경은 실행 컨텍스트의 <code class=\"language-text\">LexicalEnvironment</code> 에 의해 참조되기는 하지만, 렉시컬 환경도 별도의 독립적인 객체라고 볼 수 있습니다.</li>\n<li>누군가에 의해 참조되지 않을 때 제거 되는데, 현재는 <code class=\"language-text\">bar</code> 라는 함수 정의가 <code class=\"language-text\">foo</code> 함수 실행 컨텍스트에 바인딩 된 <code class=\"language-text\">foo</code> 함수 렉시컬 환경의 함수 환경 레코드 내 식별자에 함수 객체가 할당되어 있으며, <code class=\"language-text\">this</code> 바인딩을 통해 <code class=\"language-text\">[[ThisValue]]</code> 내부 슬롯에 전역 객체를 바인딩 하고있기 때문에, 바로 사라지지 않습니다.</li>\n<li>이는 <strong>클로저</strong>와 연결되기 때문에 중요합니다.</li>\n</ol>\n</li>\n</ol>\n<br/>\n<h3>09 foo 함수 코드 실행 종료</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dfb1a3e7e184a37cfa6ed8cca70791ab/9b29b/8.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABQklEQVR42p2T2W7CMBBF+f8/5IGwhCUkIQvZnPXWZ1SkCkRRa8kPE4/P3DvjrJIk0eFwUBiGWq/XKstSrGVZ9J+1GsdRURTpfD7rer2KOMsypWmqoigsvt1udlb44vM0fQbu93ttt1tTOQyDKY6TWHmZyzmnLM+Vxj7ebDT1vWavnntvgQB2u52Ox6MlYtv1TtMymfWmaVTd76q9UhSOfrdt+xmIwnmeDYJSNzhLulwudhZ529O35Xc9flEIKAgCA2C76zr71nurdV1bwT8BuciQ6qZWP/bWAuwBoxWcE1PkAX87FMAkYavtWusjSpg2U7/7PpIPnJgCz9AVl0+nk6lDGVMFTN8oBIwnw3vN/FBoASrJ4wylL0Aux/5ZsKlOAdQwXexVVaWcp+OhPy2j9rmXBkQB6tjPCcSPqQMG+Ntf9AX911Op64CR8AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"finish foo function code execution\"\n        title=\"\"\n        src=\"/static/dfb1a3e7e184a37cfa6ed8cca70791ab/37523/8.png\"\n        srcset=\"/static/dfb1a3e7e184a37cfa6ed8cca70791ab/e9ff0/8.png 180w,\n/static/dfb1a3e7e184a37cfa6ed8cca70791ab/f21e7/8.png 360w,\n/static/dfb1a3e7e184a37cfa6ed8cca70791ab/37523/8.png 720w,\n/static/dfb1a3e7e184a37cfa6ed8cca70791ab/302a4/8.png 1080w,\n/static/dfb1a3e7e184a37cfa6ed8cca70791ab/07a9c/8.png 1440w,\n/static/dfb1a3e7e184a37cfa6ed8cca70791ab/9b29b/8.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li>\n<p><strong>foo 함수 코드 실행 종료</strong></p>\n<ol>\n<li><code class=\"language-text\">bar</code> 함수가 종료되면 <code class=\"language-text\">foo</code> 함수 내부의 코드도 실행할 코드가 없으므로, <code class=\"language-text\">foo</code> 함수 코드도 실행을 종료합니다. 그리고 <code class=\"language-text\">foo</code> 함수 실행컨텍스트가 실행 컨텍스트 스택에서 pop 되어 제거되고, 전역 실행 컨텍스트가 현재 실행 중인 실행 컨텍스트가 됩니다.</li>\n</ol>\n</li>\n<li>\n<p><strong>foo 함수 렉시컬 환경의 임시적 생존</strong></p>\n<ol>\n<li><code class=\"language-text\">bar</code> 함수의 렉시컬 환경과 유사하게 누군가에 의해 참조되고 있기 때문에, 실행 컨텍스트와 같이 바로 사라지지 않습니다.</li>\n</ol>\n</li>\n</ol>\n<br/>\n<h3>10 foo 함수 코드 실행 종료</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a6a721e0c6ca598a9467f1d9d7dac35e/9b29b/9-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABRElEQVR42p2T2W7CQAxF+f8f5Il9T0IWsk2SSS5z3CJVIKjaSPNgxnN8r21mx+NRu91O5/NZ8/lc1+tVfNM06T/fzHtvMMCXy0XDMChNUyVJojzPLaYId3kcawz5H4E82Gw2Wq1WprTve223W0VxpKzI5JxTmmVKohAvFvJdpzGo591bIID1eq39fm+JRVHIdU5+8ma9rmuVt5uqoBSFQzhN0/wOROE4jgZBqeudJZ1Op68+B9v+2/K7Hr8oBLRcLg2A7bZt7bcuWK2qygr+CchDhlTVlbqhsxZgDxit4J6YIg/426EAJglbTdtYH1HCtJn6LfSRfODEFHiG2tocDgdThzKmCpi+UQgYKxOHlUnDUGgBKsnjDqUvQB5HYS04VKcAapgu9sqyVMbqBOhPy6h97qUBUYA6znMC8WPqgAF++hfdAdO8U53WdY4XAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"finish foo function code execution\"\n        title=\"\"\n        src=\"/static/a6a721e0c6ca598a9467f1d9d7dac35e/37523/9-1.png\"\n        srcset=\"/static/a6a721e0c6ca598a9467f1d9d7dac35e/e9ff0/9-1.png 180w,\n/static/a6a721e0c6ca598a9467f1d9d7dac35e/f21e7/9-1.png 360w,\n/static/a6a721e0c6ca598a9467f1d9d7dac35e/37523/9-1.png 720w,\n/static/a6a721e0c6ca598a9467f1d9d7dac35e/302a4/9-1.png 1080w,\n/static/a6a721e0c6ca598a9467f1d9d7dac35e/07a9c/9-1.png 1440w,\n/static/a6a721e0c6ca598a9467f1d9d7dac35e/9b29b/9-1.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li><strong>전역 코드 실행 종료</strong>\n<ol>\n<li><code class=\"language-text\">foo</code> 함수가 종료되면 전역 코드 내에서 더 이상 실행할 코드가 없기 때문에, 전역 코드의 실행이 종료되고, <strong>전역 실행 컨텍스트</strong>도 실행컨텍스트 스택에서 pop되어 제거되어 실행 컨텍스트에는 아무 것도 남아있지 않게 됩니다.</li>\n</ol>\n</li>\n</ol>\n<hr>\n<br/>\n<h2>3. Conclusion</h2>\n<p><strong>실행 컨텍스트</strong>, <strong>렉시컬 환경</strong>, <strong>환경 레코드</strong>, <strong>식별자</strong>, <strong>스코프</strong>, <strong>스코프 체인</strong>, <strong>프로토타입 체인</strong> 등 많은 <code class=\"language-text\">자바스크립트</code>와 관련된 용어들이 사용되고 있습니다. <strong>실행 컨텍스트에 대한 이해</strong>는 마치 <code class=\"language-text\">자바스크립트</code> 코드가 바이트 코드로 변환되어 기계가 읽는 것처럼, 개발자가 <strong>코드의 실행 순서</strong>를 이해하는데 도움이 된다고 생각합니다.</p>\n<p><strong>실행 컨텍스트</strong>와 <strong>렉시컬 환경</strong> 그리고 <strong>스코프</strong>는 <strong>클로저</strong>와 연결되는 개념이기 때문에, 이렇게 정리하게 되었습니다. 미래의 저에게 도움이 되었으면 좋겠습니다.</p>\n<br/>\n<br/>","frontmatter":{"title":"Execution Context","date":"July 14, 2023","description":"이 글은 자바스크립트의 식별자, 스코프 그리고 코드의 실행 순서를 관리하는 실행 컨텍스트와 관련된 글입니다.","category":"JavaScript"}},"previous":{"fields":{"slug":"/effective-typescript-2/"},"frontmatter":{"title":"Effective TypeScript 2"}},"next":{"fields":{"slug":"/without-bundler/"},"frontmatter":{"title":"SetUp Without CRA or Bundle Tools"}}},"pageContext":{"id":"7949f455-008e-511c-9fa8-c77440b2cbea","previousPostId":"fd4c0ca3-f829-55be-8dfe-ba76cd9a44e1","nextPostId":"0106f970-47e5-5a47-aef0-5685459ea584"}},"staticQueryHashes":["707948987","805692932"],"slicesMap":{}}