{"componentChunkName":"component---src-templates-blog-post-js","path":"/execution-context/","result":{"data":{"site":{"siteMetadata":{"title":"Kyle.dot"}},"markdownRemark":{"id":"9a6abcd1-683c-5bf6-8107-cd16c96e19cf","excerpt":"의 코드 실행 순서 그리고 스코프와 관련하여 이해도를 높이기 위해 이 글을 작성하게 되었습니다. 1. About Execution Context…","html":"<blockquote>\n<p><code class=\"language-text\">JavaScript</code>의 <strong>코드 실행 순서</strong> 그리고 <strong>스코프</strong>와 관련하여 이해도를 높이기 위해 이 글을 작성하게 되었습니다.</p>\n</blockquote>\n<br/>\n<h2>1. About Execution Context</h2>\n<p><strong>실행 컨텍스트</strong>는 <strong>식별자</strong>, <strong>스코프</strong>, 그리고 <strong>코드의 실행 순서</strong>를 관리하는 <code class=\"language-text\">JavaScript</code>의 핵심 개념입니다. <strong>실행 컨텍스트</strong>는 스코프를 기반으로 식별자와 식별자에 바인딩된 값, 스코프 체인, 클로저 동작 방식 등을 이해하는 데 도움이 됩니다.</p>\n<blockquote>\n<p><b>실행 컨텍스트(Execution Context)</b>는 <strong>자바스크립트의 4가지 소스코드</strong>가 평가되면 생성됩니다.</p>\n</blockquote>\n<blockquote>\n<p><strong>전역 코드</strong> | <strong>함수 코드</strong> | <strong>eval 코드</strong> | <strong>모듈 코드</strong></p>\n</blockquote>\n<hr>\n<br/>\n<p>일반적으로 <strong>소스 코드 평가과정 / 런타임 이전</strong>에는 변수, 함수 등의 선언문만 먼저 실행하여 생성된 변수와 함수를 키로 <b>실행 컨텍스트가 관리하는 스코프(렉시컬 환경의 환경 레코드)</b>에 등록합니다.</p>\n<p><strong>소스 코드 실행과정 / 런타임</strong>에는 선언문을 제외한 모든 소스 코드가 순차적으로 실행됩니다. 소스 코드 실행에 필요한 정보 즉, <strong>변수</strong>나 <strong>함수</strong>의 참조를 <code class=\"language-text\">스코프 체인</code>을 통해 검색하고, 필요한 <strong>메서드</strong>는 <code class=\"language-text\">프로토타입 체인</code> 상에서 검색하여 취득합니다.</p>\n<br/>\n<p>변수 값의 변경 등의 소스 코드 변경은 다시 실행 컨텍스트가 관리하는 <b>렉시컬 환경의 환경 레코드(Environment Record of Lexical Environment)</b>에 등록됩니다.</p>\n<p>예를 들어, <strong>소스코드 평가 과정</strong>에서는 <code class=\"language-text\">var</code> 키워드로 선언한 변수에 <code class=\"language-text\">undefined</code>, <code class=\"language-text\">let</code>, <code class=\"language-text\">const</code> 키워드로 선언한 변수에는 <code class=\"language-text\">&lt;uninitialized></code>와 같이 표현되어 있습니다. 하지만, <strong>소스코드 실행 과정</strong>에서 할당문이 실행되므로 <strong>값이 업데이트</strong> 됩니다.</p>\n<ul>\n<li>\n<p>전역 코드인 경우 <code class=\"language-text\">Object Environment Record</code>의 <code class=\"language-text\">BindingObject</code> 객체에 등록된 <code class=\"language-text\">window</code> 전역 객체에 값이 업데이트</p>\n</li>\n<li>\n<p>함수 코드인 경우 <code class=\"language-text\">Function Environment Record</code>에 해당 변수의 값이 업데이트</p>\n</li>\n</ul>\n<br/>\n<br/>\n<h2>2. Whole Process of Execution Context's generation with Lexical Environment</h2>\n<p>다음의 코드 예시로, <strong>실행 컨텍스트</strong>가 실행 컨텍스트 스택에 언제 푸시되고, <strong>렉시컬 환경</strong>은 언제 생성되며, 변수에 대한 값은 언제 변경되는지, 그리고 <strong>코드 실행 순서</strong>는 어떻게 제어 되는지 확인해 보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> y <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">const</span> y <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token keyword\">function</span> <span class=\"token function\">bar</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">const</span> z <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">+</span> b <span class=\"token operator\">+</span> x <span class=\"token operator\">+</span> y <span class=\"token operator\">+</span> z<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<h3>01 전역 객체 생성</h3>\n<p>전역 코드 평가 이전에 전역 객체가 생성됩니다.</p>\n<p>이 전역 객체에는 <strong>빌트인 전역 프로퍼티</strong>(e.g. <code class=\"language-text\">Infinity</code>,<code class=\"language-text\">undefined</code>, <code class=\"language-text\">NaN</code>), <strong>빌트인 전역함수</strong>(e.g. <code class=\"language-text\">isFinite</code>, <code class=\"language-text\">parseFloat</code>), <strong>표준빌트인 객체</strong> (e.g. <code class=\"language-text\">Object</code>, <code class=\"language-text\">Number</code>, <code class=\"language-text\">String</code>, <code class=\"language-text\">Boolean</code>, ...)가 추가되고, 환경에 따라 <strong>호스트 객체</strong> (브라우저 환경에서는 DOM, BOM, Canvas 와 같은 Web API / nodeJS 환경의 API)를 포함하게 됩니다. 이 전역 객체는 <code class=\"language-text\">Object.prototype</code> 을 상속받습니다.</p>\n<br/>\n<h3>02 전역 코드 평가</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/999f236c0ceffda44973edf6e3534748/9b29b/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA+ElEQVR42s2SW2vEIBCF8///4LIvTWJMk6hEjLfcT5kp7cJuHwrpQwURh+M3zswp+r6HlBJd1+E8T1xdxb7vICgBh2G4DC22bUNd1yjLEkIIHMdxHUigqqrQNM3f/PD/AEn7pP8VkAZHOjo/OSffjx+0j6G8PYZCsZwz1nXlx9ZaaK0xec/QeZ5hjIETAnvOr7Zp25a9SPYhMYH7oYd8lwwblILRGtZo5JRYQwnd7YbVuVcgeVApBW00vPecYPITUkpIMXJsNAbmfseaM2JKXIUPAaO1sOOIGCNXw0AyNP2O9nMPv+7LssDH+N0GWgTRSsE5hxACt+sD9claGXxmAXMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"execution-context-assessment\"\n        title=\"\"\n        src=\"/static/999f236c0ceffda44973edf6e3534748/37523/1.png\"\n        srcset=\"/static/999f236c0ceffda44973edf6e3534748/e9ff0/1.png 180w,\n/static/999f236c0ceffda44973edf6e3534748/f21e7/1.png 360w,\n/static/999f236c0ceffda44973edf6e3534748/37523/1.png 720w,\n/static/999f236c0ceffda44973edf6e3534748/302a4/1.png 1080w,\n/static/999f236c0ceffda44973edf6e3534748/07a9c/1.png 1440w,\n/static/999f236c0ceffda44973edf6e3534748/9b29b/1.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li><strong>전역 실행 컨텍스트 생성</strong>\n<ol>\n<li>전역 코드를 평가하면서, <strong>비어 있는 전역 실행 컨텍스트</strong>를 생성하고, 실행 컨텍스트 스택에 push 합니다. 실행 컨텍스트 스택의 최상위에존재하므로, <strong>현재 실행 중인 실행 컨텍스트</strong>라고 이야기 할 수 있습니다.</li>\n</ol>\n</li>\n<li><strong>전역 렉시컬 환경 생성</strong>\n<ol>\n<li>전역 렉시컬 환경을 생성하고, 전역 실행 컨텍스트의 <code class=\"language-text\">LexicalEnvironment</code> 에 바인딩 합니다.</li>\n<li><strong>전역 환경 레코드 생성</strong>\n<ol>\n<li><strong>객체 환경 레코드 생성</strong>\n<ol>\n<li>전역 환경 레코드를 구성하는 컴포넌트인 객체 환경 레코드는 <code class=\"language-text\">BindingObject</code> 라고 불리는 객체와 연결됩니다.</li>\n<li>이 객체는 전역 객체 생성 단계에서 생성된 <strong>전역 객체</strong>라고 볼 수 있습니다.</li>\n<li>전역 변수 <code class=\"language-text\">x</code> 와 <code class=\"language-text\">foo</code> 는 객체 환경 레코드를 통해 객체 환경 레코드의 <code class=\"language-text\">BindingObject</code> 객체에 바인딩 되어 있는 전역 객체의 프로퍼티와 메서드가 됩니다.</li>\n</ol>\n</li>\n<li><strong>선언적 환경 레코드 생성</strong>\n<ol>\n<li><code class=\"language-text\">let</code>, <code class=\"language-text\">const</code> 키워드로 선언한 변수는 전역 객체의 프로퍼티가 되지 않고, <strong>개념적인 블록</strong>에 존재하게 됩니다. 개념적인 블록은 전역 환경 레코드에 바인딩 되어 있는 <strong>선언적 환경 레코드</strong>라고 이야기 할 수 있고, <code class=\"language-text\">let</code>, <code class=\"language-text\">const</code> 키워드로 선언한 변수는 선언적 환경 레코드에 등록됩니다.</li>\n<li><code class=\"language-text\">let</code>, <code class=\"language-text\">const</code> 키워드로 선언한 변수는 소스 코드 평가 과정에서 <code class=\"language-text\">&lt;uninitialized></code> 로 표시되어 있는데, 이 2가지 키워드로 선언한 변수는 런타임 이전(소스 코드 평가 과정)에 <strong>선언 단계</strong>와 <strong>초기화 단계</strong>가 분리되어 진행됩니다.</li>\n<li>런타임에 변수가 선언되어 있는 스코프 선두로부터 변수 선언문(초기화 단계 - 할당)에 도달하기 전까지 <strong>Temporal Dead Zone / TDZ</strong>에 빠지게 됩니다.</li>\n<li>이를 통해, 런타임에 <code class=\"language-text\">console.log</code>와 같은 API를 통해 변수를 참조하게 되면 <strong>ReferenceError</strong>가 발생하는 것을 확인할 수 있고, 이는 <code class=\"language-text\">let</code>, <code class=\"language-text\">const</code> 키워드로 선언한 변수도 호이스팅이 발생한다는 것을 알 수 있습니다.</li>\n</ol>\n</li>\n</ol>\n</li>\n<li><strong>this 바인딩</strong>\n<ol>\n<li><code class=\"language-text\">[[GlobalThisValue]]</code> 라는 내부 슬롯에 <code class=\"language-text\">this</code>라는 식별자와 값을 연결하는 자기 참조 변수가 바인딩됩니다. <code class=\"language-text\">this</code> 는 전역 코드에 서 <code class=\"language-text\">window</code>, 즉 전역 객체를 가리키므로, 내부 슬롯에는 전역 객체가 바인딩 됩니다.</li>\n</ol>\n</li>\n<li><strong>외부 렉시컬 환경에 대한 참조 생성</strong>\n<ol>\n<li>외부 렉시컬 환경에 대한 참조는 현재 평가 중인 소스 코드를 포함하는 <strong>외부 코드의 렉시컬 환경</strong>, 즉 <strong>상위 스코프</strong>를 가리킵니다.</li>\n<li>이를 통해 <strong>단방향 링크드 리스트</strong> 형태인 <strong>스코프 체인</strong>을 구현합니다.</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<br/>\n<h3>03 전역 코드 실행</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8a815d6d27eb1b3b38136f57128b1455/9b29b/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA0klEQVR42tWS2w6DIBBE+/8/6V1EjHcFUZxm9rGavtiXkmwIZDg7uvNSSqEoCmRZhhACnq7XcRyoqgplWUJrjfM8nwH3fUeSJIiiCGmaPnYpQILiOJbP/onD/wdycNRx56KG53CjvR0K76y1svNx13UwxmAYBoE659A0DQalELy/xoY5zPNc4kMxwcwnG/V9L3EioG1baUSNsxad1vDOXYF8XNe11DzP0mAcRyzLgnVdMU2TuGyMwbZtcue9xx7C5RcJkA7ojvUp4JlFAMEEfhvcGz9kW7AUYCtCAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"global code execution\"\n        title=\"\"\n        src=\"/static/8a815d6d27eb1b3b38136f57128b1455/37523/2.png\"\n        srcset=\"/static/8a815d6d27eb1b3b38136f57128b1455/e9ff0/2.png 180w,\n/static/8a815d6d27eb1b3b38136f57128b1455/f21e7/2.png 360w,\n/static/8a815d6d27eb1b3b38136f57128b1455/37523/2.png 720w,\n/static/8a815d6d27eb1b3b38136f57128b1455/302a4/2.png 1080w,\n/static/8a815d6d27eb1b3b38136f57128b1455/07a9c/2.png 1440w,\n/static/8a815d6d27eb1b3b38136f57128b1455/9b29b/2.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li><strong>전역 코드 실행</strong>\n<ul>\n<li>런타임 단계로 선언문을 제외한 모든 코드가 실행되기 시작하여, 식별자 결정을 통해 실행 중인 실행 컨텍스트의 렉시컬 환경에 존재하는 식별자를 검색합니다.</li>\n<li>현재는 해당 렉시컬 환경에 <code class=\"language-text\">x</code>와 <code class=\"language-text\">y</code>라는 변수가 존재하기 때문에, <code class=\"language-text\">x</code>라는 변수에는 1이라는 값이 할당되고, 선언적 환경레코드에 등록되어 있던 <code class=\"language-text\">y</code>라는 변수에는 2라는 값이 할당됩니다.</li>\n<li>하지만, 존재하지 않는 경우 <strong>외부 렉시컬 환경에 대한 참조</strong>를 통해 상위 스코프로 이동하여 식별자 결정을 통해 식별자를 검색하게 되는데, 전역 렉시컬 환경은 스코프 체인의 종점이기 때문에, 상위 스코프가 존재하지 않아, 해당 렉시컬 환경에 존재하지 않는 변수를 참조하게 될 경우 <strong>ReferenceError</strong> 를 발생시키게 됩니다.</li>\n</ul>\n</li>\n<li><strong><code class=\"language-text\">foo</code> 함수로 코드의 제어권 이동</strong>\n<ul>\n<li>foo 함수 호출문이 실행되어 코드의 제어권이 foo 함수로 이동하게 됩니다.</li>\n</ul>\n</li>\n</ol>\n<br/>\n<h3>04 foo 함수 코드 평가</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/72948722d8a9c1d9aac1da4a19695a17/9b29b/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABMklEQVR42qWT2W6DMBBF8/+fl7yzL2YJO7YBw63uVOGhRW3VWLKAMRzOHcOtqirEcYwwDNG2LTiO48B/x23bNiilkGUZiqJ4C3YCaef7PqIowr7v7wMJCoJAon815LU2BvM8wxrza4ITSEsCaeicw7Is4BoBuVKIggDl4wFn7c9APpznuUDZw3Vd4XmewMuqFKt127BqDXu/Yzfmb0BuTFVXEo3n0zxh2T4tjTVon08MYYjDOezHIfWrfp+bQiseX5G10bCLlchd16EsS3TjIGvGGNR1LXVefzNM0xRJkoiZtRZRGEEVCkmayLfJVhDQto3AeA9n3/fSosvINGDkcRzlBcM4QGstkzWC+RNws9gWJmO9aRpZY41pBEgD2nFefTYcBBFAo1eNEL6EptM0Sbs+AC5WVm44LP6CAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"foo function code execution\"\n        title=\"\"\n        src=\"/static/72948722d8a9c1d9aac1da4a19695a17/37523/3.png\"\n        srcset=\"/static/72948722d8a9c1d9aac1da4a19695a17/e9ff0/3.png 180w,\n/static/72948722d8a9c1d9aac1da4a19695a17/f21e7/3.png 360w,\n/static/72948722d8a9c1d9aac1da4a19695a17/37523/3.png 720w,\n/static/72948722d8a9c1d9aac1da4a19695a17/302a4/3.png 1080w,\n/static/72948722d8a9c1d9aac1da4a19695a17/07a9c/3.png 1440w,\n/static/72948722d8a9c1d9aac1da4a19695a17/9b29b/3.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li><strong>foo 함수 코드 평가</strong>\n<ol>\n<li><strong>함수 실행 컨텍스트를 생성</strong>\n<ol>\n<li>단, 함수 실행 컨텍스트는 함수 환경 레코드가 생성될 때까지 실행 컨텍스트 스택에 push 하지 않습니다.</li>\n</ol>\n</li>\n<li><strong>함수 렉시컬 환경 생성</strong>\n<ol>\n<li>함수 렉시컬 환경을 생성하고, 함수 실행 컨텍스트의 LexicalEnvironment에 바인딩 합니다.</li>\n<li><strong>함수 환경 레코드 생성</strong>\n<ol>\n<li>함수 렉시컬 환경을 구성하는 컴포넌트인 함수 환경 레코드는 <strong>매개변수</strong>, <code class=\"language-text\">arguments</code> 객체, 함수 내부에 선언한 <strong>지역 변수</strong>와 <strong>중첩 함수</strong>를 등록하고 관리합니다.</li>\n</ol>\n</li>\n<li><strong>this 바인딩</strong>\n<ol>\n<li><code class=\"language-text\">[[ThisValue]]</code> 내부 슬롯에는 <code class=\"language-text\">foo</code> 함수 내부의 <code class=\"language-text\">this</code>가 바인딩 됩니다. <code class=\"language-text\">foo</code> 함수는 일반 함수로서 호출되기 때문에 <code class=\"language-text\">this</code> 에는전역 객체(<code class=\"language-text\">window</code>)가 바인딩 됩니다. (<code class=\"language-text\">this</code> 는 <strong>함수 호출 방식</strong>에 따라 동적으로 결정된다.)</li>\n<li><strong>외부 렉시컬 환경에 대한 참조</strong>\n<ol>\n<li>전역 코드 평가 단계에서 <code class=\"language-text\">foo</code> 함수가 전역 객체의 프로퍼티(메서드)로 할당될 때, 런타임 이전(소스 코드 평가 단계)에 함수 정의가평가되면서 함수 이름과 동일한 식별자가 생성되고, 이 식별자에 함수 객체를 생성하여 할당하게 됩니다.</li>\n<li>함수 객체 생성 시, 현재실행 중인 실행 컨텍스트의 렉시컬 환경, 즉 <code class=\"language-text\">foo</code> 함수의 상위 스코프(여기서는 전역 렉시컬 환경)를 <code class=\"language-text\">[[Environment]]</code> 라는 내부 슬롯에 저장합니다.</li>\n<li>위의 과정을 통해, <code class=\"language-text\">foo</code> 함수가 호출되어 <code class=\"language-text\">foo</code> 함수 코드를 평가하는 단계에 외부 렉시컬 환경에 대한 참조에 할당되는 것은 <code class=\"language-text\">[[Environment]]</code> 내부 슬롯에 저장된 렉시컬 환경에 대한 참조 입니다. 이것이 바로 렉시컬 스코프, <strong>함수가 어디서 정의되었는지</strong>에 따라 <strong>상위 스코프</strong>를 결정하는 메커니즘입니다.</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<br/>\n<h3>05 foo 함수 코드 실행</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4266e47e941bb419409d1f0fc4a84e50/9b29b/4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABHklEQVR42qWS246DIBRF+//f2Kh4R4y3qghedrPPpD60TWcyJSEi6GLtAxdjDJIkQRRF4JjtOA78t13WdUVZlsjzHFrrr2AnUCmFMAwRxzH2ff8eSBAjM/qzId9nazFNExZrf01wAmlJIA23bYNzDlwjoChLxEpBX6/YvP8M5M9FUQiUNfTeIwgCgVemEiu/rvDWwiqF3bm/AXkwpjYSjeNxGuHWH0trLbqugy4K7NsmKTj/rt7nodCKz0fk2c5Y3CKRCauqSp5c4wZ1XaPv+xeoGGZZhjRNxWxZFolPa24gZloLoGkagbG+/I5r/qmmZ2Qa8GKP4ygbDMMg8ed5xu12Q9u2qI0RGOcIehzaC5AGtGN/d23YCSCYwE9X5w6kk1fUtPklUAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"foo function code execution\"\n        title=\"\"\n        src=\"/static/4266e47e941bb419409d1f0fc4a84e50/37523/4.png\"\n        srcset=\"/static/4266e47e941bb419409d1f0fc4a84e50/e9ff0/4.png 180w,\n/static/4266e47e941bb419409d1f0fc4a84e50/f21e7/4.png 360w,\n/static/4266e47e941bb419409d1f0fc4a84e50/37523/4.png 720w,\n/static/4266e47e941bb419409d1f0fc4a84e50/302a4/4.png 1080w,\n/static/4266e47e941bb419409d1f0fc4a84e50/07a9c/4.png 1440w,\n/static/4266e47e941bb419409d1f0fc4a84e50/9b29b/4.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li>\n<p><strong>foo 함수 코드 실행</strong></p>\n<ol>\n<li><code class=\"language-text\">foo</code> 함수의 소스 코드가 실행되기 시작하여, <strong>매개변수</strong>에는 <strong>인수</strong>가 할당되고, <strong>변수 할당문</strong>이 실행되어 지역 변수 <code class=\"language-text\">x</code>, <code class=\"language-text\">y</code> 에 값이 할당되며, <code class=\"language-text\">bar</code> 함수가 호출됩니다.</li>\n</ol>\n</li>\n<li>\n<p><strong>bar 함수로 코드의 제어권 이동</strong></p>\n</li>\n</ol>\n<br/>\n<h3>06 bar 함수 코드 평가</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/be9aa9dd7333baeed877e39900a930c7/9b29b/5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABQElEQVR42qVSiWqEMBTc///EhSremmi8NWp0yjywsKK00IBoTDJnXlprRFGEIAjQNA3+O17OOaRpijAMkec5ODfGoCxLIdi2DVVVoSgKNEphd+53wCRJEMcxdKkxjiPCIASV120Nay1MXaNUCub9hrMW+3EI0S0gF8iulEKhCqzrirZtYRcLdzgcxyEkfddh0FoUbs5hmqZnQObn+768930XEALb1cqmLMsk51wpiYSDex4t8wAzpFICeV+eACitMM+z/FuWBcMwCOGfAFnImSG/h3HAsi2SFe0RjFEQmHOSnOC3lj3P+7FMkmmeJEcqYdtsves6ISA45yS4gn60TGVslfap+rybjIKtm6qSCKiS+7hGpbeW2TIPkZ0EVEP7tNf3PWpeHa0/LFPtNUsBpAKq43PdwPnZOoEJ+FQIAb8BsiZUsAfht3oAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"bar function code assessment\"\n        title=\"\"\n        src=\"/static/be9aa9dd7333baeed877e39900a930c7/37523/5.png\"\n        srcset=\"/static/be9aa9dd7333baeed877e39900a930c7/e9ff0/5.png 180w,\n/static/be9aa9dd7333baeed877e39900a930c7/f21e7/5.png 360w,\n/static/be9aa9dd7333baeed877e39900a930c7/37523/5.png 720w,\n/static/be9aa9dd7333baeed877e39900a930c7/302a4/5.png 1080w,\n/static/be9aa9dd7333baeed877e39900a930c7/07a9c/5.png 1440w,\n/static/be9aa9dd7333baeed877e39900a930c7/9b29b/5.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li><strong><code class=\"language-text\">bar</code> 함수 코드 평가</strong>\n<ol>\n<li><strong>함수 실행 컨텍스트를 생성</strong>\n<ol>\n<li>단, 함수 실행 컨텍스트는 함수 환경 레코드가 생성될 때까지 실행 컨텍스트 스택에 push 하지 않습니다.</li>\n</ol>\n</li>\n<li><strong>함수 렉시컬 환경 생성</strong>\n<ol>\n<li>함수 렉시컬 환경을 생성하고, 함수 실행 컨텍스트의 LexicalEnvironment에 바인딩 합니다.</li>\n<li><strong>함수 환경 레코드 생성</strong>\n<ol>\n<li>함수 렉시컬 환경을 구성하는 컴포넌트인 함수 환경 레코드는 <strong>매개변수</strong>, <code class=\"language-text\">arguments</code> 객체, 함수 내부에 선언한 <strong>지역 변수</strong>와 <strong>중첩 함수</strong>를 등록하고 관리합니다.</li>\n</ol>\n</li>\n<li><strong>this 바인딩</strong>\n<ol>\n<li><code class=\"language-text\">[[ThisValue]]</code> 내부 슬롯에는 <code class=\"language-text\">bar</code> 함수 내부의 <code class=\"language-text\">this</code>가 바인딩 됩니다. <code class=\"language-text\">bar</code> 함수는 일반 함수로서 호출되기 때문에 <code class=\"language-text\">this</code> 에는 전역 객체(<code class=\"language-text\">window</code>)가 바인딩 됩니다. (<code class=\"language-text\">this</code> 는 <strong>함수 호출 방식</strong>에 따라 동적으로 결정된다.)</li>\n<li><strong>외부 렉시컬 환경에 대한 참조</strong>\n<ol>\n<li><code class=\"language-text\">foo</code> 함수 코드 평가 단계에서 <code class=\"language-text\">bar</code> 함수는 함수 정의를 평가하여 함수 이름과 동일한 식별자를 생성하고, 함수 객체를 생성하여 할당 하는데, 이 때 현재 실행 중인 실행 컨텍스트의 렉시컬 환경, 즉 <code class=\"language-text\">bar</code> 함수의 상위 스코프(<code class=\"language-text\">bar</code> 함수가 정의되어 있는 <code class=\"language-text\">foo</code> 함수의 렉시컬 환경)을 <code class=\"language-text\">[[Environment]]</code> 내부 슬롯에 저장합니다.</li>\n<li>위의 과정을 통해, <code class=\"language-text\">bar</code> 함수가 호출되어 <code class=\"language-text\">bar</code> 함수 코드를 평가하는 단계에 외부 렉시컬 환경에 대한 참조에 할당되는 것은 <code class=\"language-text\">[[Environment]]</code> 내부 슬롯에 저장된 렉시컬 환경에 대한 참조 입니다. 이것이 바로 렉시컬 스코프, <strong>함수가 어디서 정의되었는지</strong>에 따라 <strong>상위 스코프</strong>를 결정하는 메커니즘입니다.</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<br/>\n<h3>07 bar 함수 코드 실행</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1aa06717b53f6a917bef2ef401cd88ab/9b29b/6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABRElEQVR42p2TiW6CQBRF/f9/FANuwLDvy8Btzks0qbG2KQnBgeHc5eHBOafL5aIwDOUyJ4593/Xf4+C91+12UxRFiuNYrIuiUJZlqqpK67oqz3MlSaLKOW3e/w68Xq924rDve0VhJJyXdalpmlSUpbI0VXk8ys+ztn03obdAHqCepqmSNNGyLKrrWtM8ye/e4iPSNo26PDeHq/cahuFnIP2dTie7bttmEMDTMtmm+/2u8/msOEmskk89W2ReoEOcAgqOgQFSl2ocR7s3z7O6rjPBPwEZyKNDfnd9p3mdrSviAaMKwKwRecDfRg6C4BkZkWEcrEecMG2m3jSNCQBnjcAr9DllvkWcMVXi4xoBYFTB1Is8twpwyT6e4fRtZKbMS6gjgBviE69tW5V8Os59i4zb1y4NiAPccb5uYP2YOmCAn/5JX64RVLIn84KZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"bar function code execution\"\n        title=\"\"\n        src=\"/static/1aa06717b53f6a917bef2ef401cd88ab/37523/6.png\"\n        srcset=\"/static/1aa06717b53f6a917bef2ef401cd88ab/e9ff0/6.png 180w,\n/static/1aa06717b53f6a917bef2ef401cd88ab/f21e7/6.png 360w,\n/static/1aa06717b53f6a917bef2ef401cd88ab/37523/6.png 720w,\n/static/1aa06717b53f6a917bef2ef401cd88ab/302a4/6.png 1080w,\n/static/1aa06717b53f6a917bef2ef401cd88ab/07a9c/6.png 1440w,\n/static/1aa06717b53f6a917bef2ef401cd88ab/9b29b/6.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li><strong><code class=\"language-text\">bar</code> 함수 코드 실행</strong>\n<ol>\n<li><code class=\"language-text\">bar</code> 함수의 소스 코드가 실행되기 시작하여, 매개변수 (<code class=\"language-text\">b</code>)에 인수가 할당되고, 변수 할당문이 실행되어 지역 변수 <code class=\"language-text\">z</code>에 값이 할당되며 <code class=\"language-text\">console.log</code> 가 호출된다.</li>\n</ol>\n</li>\n<li><strong>console 식별자 검색, log 메서드 검색 및 호출</strong>\n<ol>\n<li>현재 실행 중인 실행 컨텍스트의 렉시컬 환경 내에서 <code class=\"language-text\">console</code> 이라는 식별자가 존재하는 지 확인합니다. 해당 렉시컬 환경에 존재하지 않으므로, 외부 렉시컬 환경에 대한 참조를 따라, 즉 <strong>스코프 체인</strong> 을 통해 <code class=\"language-text\">foo</code> 함수의 렉시컬 환경으로 이동하여 검색하고, <code class=\"language-text\">foo</code> 함수의 렉시컬 환경에도 존재하지 않기 떄문에, <code class=\"language-text\">foo</code> 함수의 렉시컬 환경에서 외부 렉시컬 환경에 대한 참조를 따라 전역 렉시컬 환경으로 이동하\n여 <code class=\"language-text\">console</code> 식별자를 객체 환경 레코드의 <code class=\"language-text\">BindingObject</code> 객체에 바인딩 된 전역 객체를 검색합니다.</li>\n<li><code class=\"language-text\">console</code> 식별자는 전역 객체에 존재하는 것을 확인할 수 있습니다. 이어서, 해당 식별자의 마침표 표기법 뒤에 있는 <code class=\"language-text\">log</code> 메서드를 <strong>프로토타입 체인</strong>을 통해 메서드를 검색합니다. <code class=\"language-text\">log</code> 메서드는 상속받은 프로퍼티에 존재하지 않고, 객체가 직접 소유한 프로퍼티입니다.</li>\n<li>그리고, <code class=\"language-text\">log</code> 메서드에 전달한 <code class=\"language-text\">a + b + x + y + z</code> 인수인 표현식을 평가하기 위해 각각의 식별자를 현재 실행 중인 실행 컨텍스트부터 시작하여 식별자를 검색하기 시작합니다. 즉, 현재 실행 중인 실행 컨텍스트, <code class=\"language-text\">bar</code> 함수 호출에 의해 <code class=\"language-text\">bar</code> 함수 코드 평가 단계에서 생성된 실행컨텍스트의 렉시컬 환경부터 시작하여, <strong>외부 렉시컬 환경에 대한 참조로 연결되는 스코프 체인</strong>을 따라 식별자를 검색합니다. 4.<code class=\"language-text\">a</code>\n식별자는 <code class=\"language-text\">foo</code> 함수의 렉시컬 환경, <code class=\"language-text\">b</code> 식별자는 <code class=\"language-text\">bar</code> 함수의 렉시컬 환경, <code class=\"language-text\">x</code> 와 <code class=\"language-text\">y</code> 식별자는 <code class=\"language-text\">foo</code> 함수의 렉시컬 환경에서, <code class=\"language-text\">z</code> 식별자는 <code class=\"language-text\">bar</code> 함수의 렉시컬 환경에서 검색합니다. 해당되는 값들로 표현식을 평가한 후 <code class=\"language-text\">log</code> 메서드에 전달하여 최종적으로 호출합니다.</li>\n</ol>\n</li>\n</ol>\n<br/>\n<h3>08 bar 함수 코드 실행 종료</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/352a4be6ba07d3d59470133a48378a63/9b29b/7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABSElEQVR42p2TyW7CQBBE+f8/5IDZwfZ438dbRa8VDkFAoliyoJn2q6pus3HO6Xw+273dblWWpbjWddV/rs00TQrDULfbTVEUiTrLMiVJoqIorE7T1M4K57TM8+/A4/Go/X5vLsdx1Ol0Uuxi5WWuYRiU5bmSOFa+22n2Xsu6mtBbIIDD4aDL5WKNxB78oHmdLXrbtqqrSk2amsNpntV13WcgLnG4LItBcDqMgzXd73c7C6NI83fkdzPe0MADQJkToGAXGIDYfd/bb957NU1jgn8CshiXOIvH96Zt5CdvIyAeMEYBmBqRB/zlUoIgsE+aEOn6zuaIE7bN1quqMgHg1Ag8Q83h9Xq1heCMrRIf1wgAYxS8r1ma2ghwSR9nOH0ZOY5jewh1BHBDfOLVda2cV8e5H5Fx+zxLA+IAd9zPDdSPrQMG+Olf9AWgnFQGvYBomgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"finish bar function code execution\"\n        title=\"\"\n        src=\"/static/352a4be6ba07d3d59470133a48378a63/37523/7.png\"\n        srcset=\"/static/352a4be6ba07d3d59470133a48378a63/e9ff0/7.png 180w,\n/static/352a4be6ba07d3d59470133a48378a63/f21e7/7.png 360w,\n/static/352a4be6ba07d3d59470133a48378a63/37523/7.png 720w,\n/static/352a4be6ba07d3d59470133a48378a63/302a4/7.png 1080w,\n/static/352a4be6ba07d3d59470133a48378a63/07a9c/7.png 1440w,\n/static/352a4be6ba07d3d59470133a48378a63/9b29b/7.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li>\n<p><strong>bar 함수 코드 실행 종료</strong></p>\n<ol>\n<li><code class=\"language-text\">console.log</code> 메서드 호출 이후, <code class=\"language-text\">bar</code> 함수 내부 코드에는 더 이상 실행할 코드가 없으므로, <code class=\"language-text\">bar</code> 함수의 코드 실행이 종료되고, 현재 실행중인 실행 컨텍스트인 <code class=\"language-text\">bar</code> 함수의 실행 컨텍스트는 실행 컨텍스트 스택에서 pop 되어 제거되며, <code class=\"language-text\">foo</code> 함수의 실행 컨텍스트가 현재 실행 중인 실행 컨텍스트가 됩니다.</li>\n</ol>\n</li>\n<li>\n<p><strong>bar 함수 렉시컬 환경의 임시적 생존</strong></p>\n<ol>\n<li>실행 컨텍스트 스택에서 <code class=\"language-text\">bar</code> 함수 실행 컨텍스트가 제거되었다고 해도, <code class=\"language-text\">bar</code> 함수의 렉시컬 환경까지 즉시 소멸되지 않습니다.</li>\n<li>그 이유는 렉시컬 환경은 실행 컨텍스트의 <code class=\"language-text\">LexicalEnvironment</code> 에 의해 참조되기는 하지만, 렉시컬 환경도 별도의 독립적인 객체라고 볼 수 있습니다.</li>\n<li>누군가에 의해 참조되지 않을 때 제거 되는데, 현재는 <code class=\"language-text\">bar</code> 라는 함수 정의가 <code class=\"language-text\">foo</code> 함수 실행 컨텍스트에 바인딩 된 <code class=\"language-text\">foo</code> 함수 렉시컬 환경의 함수 환경 레코드 내 식별자에 함수 객체가 할당되어 있으며, <code class=\"language-text\">this</code> 바인딩을 통해 <code class=\"language-text\">[[ThisValue]]</code> 내부 슬롯에 전역 객체를 바인딩 하고있기 때문에, 바로 사라지지 않습니다.</li>\n<li>이는 <strong>클로저</strong>와 연결되기 때문에 중요합니다.</li>\n</ol>\n</li>\n</ol>\n<br/>\n<h3>09 foo 함수 코드 실행 종료</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dfb1a3e7e184a37cfa6ed8cca70791ab/9b29b/8.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABQElEQVR42p2TyXKDMBBE+f8/9MEGY7NJiH2RQNCpnooPwUVciap0GDR63TMjAq014jjG4/HA5XJB27bg2vcd/1nBuq7I8xxpmqIoCjCuqgplWaJpGomNMXLWaI3N+8/A+/2OMAzF5bIs4lhphbqtYa1FVdcolUJ9vcI7h23fRegUSEAURXg+n5LIsq2z8LuX0sdxRN91GIwRh6v3mKbpM5AOt20TCJ3axUpSlmVylhcF/HfJZz1+c0jQ7XYTAMue51m+OecwDIMI/gnIixzSMA5wq5MWsDzC2AqeM6bIC346FIKZxLKmeZI+0gmnzal3XScChDOmwBEa8HKSJOKOzjhVgtk3ChHGJ8P3WhkjLaBL5vGMTt+AvKyUkk11CtANp8vy+r5Hzaej9Y+S6fbYSwHSAd1xHxMYv6ZOMIG//UVf/ddTqSo3CzkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"finish foo function code execution\"\n        title=\"\"\n        src=\"/static/dfb1a3e7e184a37cfa6ed8cca70791ab/37523/8.png\"\n        srcset=\"/static/dfb1a3e7e184a37cfa6ed8cca70791ab/e9ff0/8.png 180w,\n/static/dfb1a3e7e184a37cfa6ed8cca70791ab/f21e7/8.png 360w,\n/static/dfb1a3e7e184a37cfa6ed8cca70791ab/37523/8.png 720w,\n/static/dfb1a3e7e184a37cfa6ed8cca70791ab/302a4/8.png 1080w,\n/static/dfb1a3e7e184a37cfa6ed8cca70791ab/07a9c/8.png 1440w,\n/static/dfb1a3e7e184a37cfa6ed8cca70791ab/9b29b/8.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li>\n<p><strong>foo 함수 코드 실행 종료</strong></p>\n<ol>\n<li><code class=\"language-text\">bar</code> 함수가 종료되면 <code class=\"language-text\">foo</code> 함수 내부의 코드도 실행할 코드가 없으므로, <code class=\"language-text\">foo</code> 함수 코드도 실행을 종료합니다. 그리고 <code class=\"language-text\">foo</code> 함수 실행컨텍스트가 실행 컨텍스트 스택에서 pop 되어 제거되고, 전역 실행 컨텍스트가 현재 실행 중인 실행 컨텍스트가 됩니다.</li>\n</ol>\n</li>\n<li>\n<p><strong>foo 함수 렉시컬 환경의 임시적 생존</strong></p>\n<ol>\n<li><code class=\"language-text\">bar</code> 함수의 렉시컬 환경과 유사하게 누군가에 의해 참조되고 있기 때문에, 실행 컨텍스트와 같이 바로 사라지지 않습니다.</li>\n</ol>\n</li>\n</ol>\n<br/>\n<h3>10 foo 함수 코드 실행 종료</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a6a721e0c6ca598a9467f1d9d7dac35e/9b29b/9-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABQElEQVR42p2TyW7DMAxE+/8/mFP21Zb3XbbsKR7bHJogKVoBOtCi3gxJ+eNyueh4POp2u2m1WilNU7GWZdF/1kcIwWCAoyjSNE3KskxJkqgoCosR4axwTnMI74Fc2O/32m635nQcRx0OB8UuVl7mGoZBWZ4riWPl67WC95qXxYReAgHsdjudTidLLMtSgx8UlmClt22ruqrUpKk5nEJQ13W/A3E4z7NBcDqMgyVdr9evPkeRwnfJr3r85BDQZrMxAGX3fW/fvPdqmsYE/wTkIkNq2kZ+8tYCygNGKzgnRuQOfzkUwCRRVtd31kecMG2mXlWVCQAnRuARas/mfD6bO5wxVcD0DSFgPBnnnLI0tRbgkjzOcPoE5HIcx7ZRRwA3TJfy6rpWztNx7kfJuH3spQFxgDv2YwLxfeqAAb77iz4B07xTnbRrMZ8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"finish foo function code execution\"\n        title=\"\"\n        src=\"/static/a6a721e0c6ca598a9467f1d9d7dac35e/37523/9-1.png\"\n        srcset=\"/static/a6a721e0c6ca598a9467f1d9d7dac35e/e9ff0/9-1.png 180w,\n/static/a6a721e0c6ca598a9467f1d9d7dac35e/f21e7/9-1.png 360w,\n/static/a6a721e0c6ca598a9467f1d9d7dac35e/37523/9-1.png 720w,\n/static/a6a721e0c6ca598a9467f1d9d7dac35e/302a4/9-1.png 1080w,\n/static/a6a721e0c6ca598a9467f1d9d7dac35e/07a9c/9-1.png 1440w,\n/static/a6a721e0c6ca598a9467f1d9d7dac35e/9b29b/9-1.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li><strong>전역 코드 실행 종료</strong>\n<ol>\n<li><code class=\"language-text\">foo</code> 함수가 종료되면 전역 코드 내에서 더 이상 실행할 코드가 없기 때문에, 전역 코드의 실행이 종료되고, <strong>전역 실행 컨텍스트</strong>도 실행컨텍스트 스택에서 pop되어 제거되어 실행 컨텍스트에는 아무 것도 남아있지 않게 됩니다.</li>\n</ol>\n</li>\n</ol>\n<hr>\n<br/>\n<h2>3. Conclusion</h2>\n<p><strong>실행 컨텍스트</strong>, <strong>렉시컬 환경</strong>, <strong>환경 레코드</strong>, <strong>식별자</strong>, <strong>스코프</strong>, <strong>스코프 체인</strong>, <strong>프로토타입 체인</strong> 등 많은 <code class=\"language-text\">자바스크립트</code>와 관련된 용어들이 사용되고 있습니다. <strong>실행 컨텍스트에 대한 이해</strong>는 마치 <code class=\"language-text\">자바스크립트</code> 코드가 바이트 코드로 변환되어 기계가 읽는 것처럼, 개발자가 <strong>코드의 실행 순서</strong>를 이해하는데 도움이 된다고 생각합니다.</p>\n<p><strong>실행 컨텍스트</strong>와 <strong>렉시컬 환경</strong> 그리고 <strong>스코프</strong>는 <strong>클로저</strong>와 연결되는 개념이기 때문에, 이렇게 정리하게 되었습니다. 미래의 저에게 도움이 되었으면 좋겠습니다.</p>\n<br/>\n<br/>","frontmatter":{"title":"Execution Context","date":"July 14, 2023","description":"이 글은 자바스크립트의 식별자, 스코프 그리고 코드의 실행 순서를 관리하는 실행 컨텍스트와 관련된 글입니다.","category":"JavaScript"}},"previous":{"fields":{"slug":"/effective-typescript-2/"},"frontmatter":{"title":"Effective TypeScript 2"}},"next":{"fields":{"slug":"/without-bundler/"},"frontmatter":{"title":"SetUp Without CRA or Bundle Tools"}}},"pageContext":{"id":"9a6abcd1-683c-5bf6-8107-cd16c96e19cf","previousPostId":"a568ad36-2a5a-5b29-9e60-2671c3690826","nextPostId":"ce4e2281-e038-5e6e-a3e7-710063504aca"}},"staticQueryHashes":["707948987","805692932"],"slicesMap":{}}