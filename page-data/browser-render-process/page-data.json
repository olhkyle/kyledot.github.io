{"componentChunkName":"component---src-templates-blog-post-js","path":"/browser-render-process/","result":{"data":{"site":{"siteMetadata":{"title":"KYLE."}},"markdownRemark":{"id":"c95248fc-7edd-5048-912b-8c326107ab2b","excerpt":"1. Web Browser Rendering Process 브라우저는 서버에 요청을 전송하기 위해 주소창을 제공하는데, 주소창에 URL을 입력하고  키를 누르면, URL의 host(domain) 이름이 DNS(물리적인 서버의 위치에 대한 요청을 판단하는 역할을 합니다. IP…","html":"<h2>1. Web Browser Rendering Process</h2>\n<ol>\n<li><strong>브라우저</strong>는 <strong>서버</strong>에 요청을 전송하기 위해 주소창을 제공하는데, 주소창에 URL을 입력하고 <code class=\"language-text\">Enter</code> 키를 누르면, <strong>URL</strong>의 <strong>host(domain)</strong> 이름이 <strong>DNS</strong>(물리적인 서버의 위치에 대한 요청을 판단하는 역할을 합니다. IP address로 바꿔주는 역할)를 통해 <strong>IP 주소</strong>로 변환되고, IP 주소를 갖는 <strong>서버</strong>에 요청을 전송합니다.</li>\n<li>즉, <strong>브라우저</strong>는 <code class=\"language-text\">HTML</code> <code class=\"language-text\">CSS</code> <code class=\"language-text\">JavaScript</code> 이미지, 폰트 등 렌더링에 필요한 <strong>정적 리소스</strong>를 요청하고, <strong>서버</strong>로부터 응답을 받습니다.</li>\n<li><strong>브라우저의 렌더링 엔진</strong>은 서버로부터 응답받은 <code class=\"language-text\">HTML</code> <code class=\"language-text\">CSS</code>를 Parsing하여 <strong>DOM</strong>과 <strong>CSSOM</strong>을 생성하고, 이 둘을 결합하여 <code class=\"language-text\">Render Tree</code>를 생성합니다.</li>\n<li><strong>브라우저의 JS 엔진</strong>은 서버로부터 응답받은 <code class=\"language-text\">JavaScript</code>를 파싱하여 <code class=\"language-text\">AST(Abstract Syntax Tree)</code>를 생성하고 바이트 코드로 변환하여 실행합니다. <strong>DOM API</strong>를 통해 <strong>DOM</strong>이나 <strong>CSSOM</strong>을 변경할 수 있습니다. 변경된 <strong>DOM</strong> 과 <strong>CSSOM</strong> 은 <strong>Render Tree</strong>에 다시 <strong>재결합</strong>됩니다.</li>\n<li>결합된 <code class=\"language-text\">Render Tree</code>를 기반으로, <code class=\"language-text\">HTML</code> 요소의 레이아웃을 계산 <strong>Reflow</strong> 하고, 브라우저 화면에 <code class=\"language-text\">HTML</code> 요소를 <strong>Repaint</strong> 하는 과정을 거치며 화면에 UI가 보여집니다.</li>\n</ol>\n<br/>\n<h3>☕️ Detail Description About HTML Parsing and DOM Generation</h3>\n<blockquote>\n<p>✅ <strong>브라우저</strong>의 요청에 의해 <strong>서버</strong>가 응답한 <strong>HTML</strong> 문서는 <b>문자열</b>로 이루어진 순수한 텍스트입니다.</p>\n</blockquote>\n<p>이 순수한 텍스트를 브라우저 화면에 시각적인 픽셀로 렌더링하려면 <code class=\"language-text\">HTML</code> 문서를 브라우저가 이해할 수 있는 <b>자료구조(객체)</b>로 변환해서 <b>메모리</b>에 저장해야 합니다.</p>\n<p>응답받은 <code class=\"language-text\">HTML</code> 문서를 파싱하여 브라우저가 이해할 수 있는 자료구조인 <b>DOM(Document Object Model)</b>을 생성합니다.</p>\n<blockquote>\n<p><strong>바이트</strong> 코드 → <strong>문자</strong> → <strong>토큰</strong>(텍스트 문자) → <strong>노드</strong>(html, head, meta, link …) → <strong>DOM</strong></p>\n<ul>\n<li>각 토큰들을 <strong>객체</strong>로 변환하여 <strong>Node</strong>들을 구성합니다. 토큰의 내용에 따라 문서 노드, 요소 노드, 어트리뷰트 노드, 텍스트 노드가 생성됩니다. <strong>Node</strong>는 <strong>DOM을 구성하는 기본 요소</strong>가 됩니다.</li>\n<li><code class=\"language-text\">HTML</code> 요소는 <strong>중첩 관계</strong>를 갖습니다. <code class=\"language-text\">HTML</code> 콘텐츠 영역에서는 텍스트 뿐만 아니라 다른 HTML 요소도 포함될 수 있습니다. <code class=\"language-text\">HTML</code> 요소 간의 <strong>중첩 관계</strong>에 의해 <strong>부자 관계</strong>가 형성됩니다.</li>\n<li>이러한 중첩 관계를 반영하여 모든 노드들을 <strong>트리 자료구조 | DOM Tree</strong>로 구성합니다. 이 노드들로 구성된 <strong>트리 자료구조</strong>를 <code class=\"language-text\">DOM</code>이라고 합니다.</li>\n</ul>\n</blockquote>\n<h3>☕️☕️ Then, What happened after Render Tree is combined?</h3>\n<blockquote>\n<p><strong>DOM</strong>과 <strong>CSSOM</strong>을 생성하고, <code class=\"language-text\">JavaScript</code> 코드에 작성된 <strong>DOM API</strong>에 의한 변경사항이 반영된 <strong>Render Tree</strong> 결합 이후 과정의 <strong>세부적인 단계</strong>까지 살펴보면 아래의 <strong>다이어그램</strong>과 같습니다.</p>\n</blockquote>\n<blockquote>\n<p>아래의 키워드 중 <strong>Raster</strong>는 픽셀로 시각화하는 과정을 의미합니다.</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/01d23b21eeecd62f008099b496c71d02/9b29b/render-process.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB+ElEQVR42o2Tf0/aUBSG+f6fY3H7T82WxcwtUwbOOUkGFYxVEApF+osWaHvb0ttnh+KSJYtxJ3ny3ntO8t7Te08bVBWVLmqoSmGn23+o6xKjocnppxParSYXQuvbOZff2zVluaWhtcK2u5gPP7HnPVQ2JU4mwpgknT6rRZxOUMrCmnXpdE7pGU3uzEuMm3OMfot+v0lRbGhUOqXrR3x4XHPtbTibbzh/iunI+sSKJbfm62zPrv55rjA2GRd+RstVdKOUL4ucfrSWD0xoIB1e+2ve3Pj8CDKOH8LavO0kHPR9WouYwzuv5sJLORgEtN2UQzPg+D6QXCy5JVeLALQY6jIlVAvcLCJIFvhZgKcCgtTBzaNa/Wy5R+quCkWfWOYhQ2dM7/4XvbHJcHaLLmtDJa1OobTkhJnodI/+k3tWIconzNQIL3tkng6x1iaz1R3D8BYnvv/LcGvVpi+h60Nm2LnFkXHGMJtw5d5w5Q0YF7ZcwQBLcvUdap2jt84ruDJNDivBTm2WokHp4ovu1q7Uo9wRw0weRUJG8UV2kRdbjj6e0DEGlJKMi5JNVhKrAqUhyQrWst/qam/4WiQy2yPnkSf7EtNsEgQ9lqFBZL9naLzFH73D865Zy+z/l2EpnWaldKMi/KUjgx6SylrtXjuQn2A1lX1IoSt+A5vAO/nrB4/5AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"browser render process\"\n        title=\"\"\n        src=\"/static/01d23b21eeecd62f008099b496c71d02/37523/render-process.png\"\n        srcset=\"/static/01d23b21eeecd62f008099b496c71d02/e9ff0/render-process.png 180w,\n/static/01d23b21eeecd62f008099b496c71d02/f21e7/render-process.png 360w,\n/static/01d23b21eeecd62f008099b496c71d02/37523/render-process.png 720w,\n/static/01d23b21eeecd62f008099b496c71d02/302a4/render-process.png 1080w,\n/static/01d23b21eeecd62f008099b496c71d02/07a9c/render-process.png 1440w,\n/static/01d23b21eeecd62f008099b496c71d02/9b29b/render-process.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>위의 과정은 아래에서 언급할 <strong>Reflow</strong>와 <strong>Repaint</strong>를 설명할 기반이 됩니다.</p>\n<br/>\n<br/>\n<hr>\n<h2>2. Reflow &#x26; Repaint</h2>\n<p>브라우저의 렌더링 과정은 <strong>웹 성능 최적화</strong>를 위해 알아야 할 필수 과정입니다. 웹 성능 최적화를 위해서는 브라우저에서 진행되는 렌더링 과정 자체를 개선할 수 없기 때문에, 중간에 발생하는 <strong>Bottleneck 현상</strong>을 개선하는 것이 중요합니다.</p>\n<p>웹 성능을 개선해야 하는 가장 큰 요소는 <strong>Reflow</strong>와 <strong>Repaint</strong>가 있습니다. 이 2가지는 주로, 최초 렌더링 이후 <strong>스타일 변경</strong>이나 <strong>DOM 요소의 추가/삽입</strong>으로 인해 발생합니다.</p>\n<p><strong>DOM 파싱</strong> 단계에서의 최적화를 다루면 좋지만, 현재로서는 쉽게 접근 가능한 <strong>스타일 계산</strong>과 같은 최적화 대상에 대해서만 다루겠습니다. 이후에 기회가 된다면, 제가 진행한 <b><a href=\"https://github.com/olhkyle/trello\">Vanilla Trello</a></b> 프로젝트를 진행하면서, <strong>DOM</strong>을 동적 생성했을 때 어떻게 효율적으로 렌더링할 수 있는 지에 대한 부분을 <strong>DOM</strong> 파싱 단계에서의 최적화와 같이 다뤄보겠습니다.</p>\n<br/>\n<h3>01 Reflow(리플로우)</h3>\n<blockquote>\n<p><strong>👨‍🚀 레이아웃 계산을 다시하는 것에 해당되는 경우</strong></p>\n<p>🔦 자바스크립트에 의한 <strong>Node</strong> 추가 / 삭제</p>\n<p>🔦 <strong>DOM</strong> 요소의 크기(<code class=\"language-text\">width</code> <code class=\"language-text\">height</code>...) / 위치(<code class=\"language-text\">position</code>...) 변경</p>\n<p>🔦 <strong>Window</strong> Resizing</p>\n</blockquote>\n<h4>01-1 <code class=\"language-text\">document.body.appendChild(node)</code></h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c911e0e5e85aceb344a6a5f73a84708e/9b29b/reflow-01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACE0lEQVR42pWTWW/TQBRG8/8lJH4CEoLy1ooCghdKVbqodCOlTd2QNnbsJl7GzuLdYx+undK+8MJYR9/M9cznOzPXPWhomqoDtAxLofpvOg95enWdYZlnDG4Ose0LstwmTkxhTJJOHtXqeIrFf2PP85LkHl0lYljFHJk2m7cBe+aUr86C3WnCqb/isxVz4i/ZsdecBiu+TOJOd5x17Ie34KO54qevaPSj4f7E482VYteZsyXGH8ZL9t2Et1cB32cxm4bfceClbFwrDvyUrWHI+98hh0HCxk3Eiaugbg11ykNoMlQus8jCz1SHSl28Yt5pkIdrkhleFolOCYuIkTumP7ygP75lZA+ouwx1Jnu3SQtbDlfQkzV1q9azCvPCxM7u8PN7HtIR1vIWe2Ewiga48fDRsM7RekpWzmSxTV1Nnmj0M+1HnMJi6/Ibo9zk2PvFsX/NuHTY966xJNadYVUkKHeA5xroQhbiSaZuR1O7YtwiMWFZejipQ1i6KO0RiLZ9T97NC5mvc3pjx+PFq21evv7ETn/C/RKGQYMRwHRF1yrdiJlmVTYUVUVc1qxyTZyVZDUkeclSxlUtdRjmSBnAuVzSsez6QI7xyIE9SdZQa8NEancW+yj/HMPYRak+YXTJ3NlmdLlBcPcO3z+Rj0Kv/VNkb2va/j+aJEhS5lLAISp0RSPSbE7W3raS4l5MZBxR1g1/AAf1PL8uprWJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"reflow-1\"\n        title=\"\"\n        src=\"/static/c911e0e5e85aceb344a6a5f73a84708e/37523/reflow-01.png\"\n        srcset=\"/static/c911e0e5e85aceb344a6a5f73a84708e/e9ff0/reflow-01.png 180w,\n/static/c911e0e5e85aceb344a6a5f73a84708e/f21e7/reflow-01.png 360w,\n/static/c911e0e5e85aceb344a6a5f73a84708e/37523/reflow-01.png 720w,\n/static/c911e0e5e85aceb344a6a5f73a84708e/302a4/reflow-01.png 1080w,\n/static/c911e0e5e85aceb344a6a5f73a84708e/07a9c/reflow-01.png 1440w,\n/static/c911e0e5e85aceb344a6a5f73a84708e/9b29b/reflow-01.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h4>01-2 <code class=\"language-text\">$elem.style.display = 'none'</code></h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/36e58e0fc1496e235e6d7784f18646da/9b29b/reflow-02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACI0lEQVR42o2SW2/TQBBG8/8lXvgFPIDCG4WqSPShLYimUhsuSVGapM3dbmKvL4mv8WV9GNuCNyTWOprdz6tvdnemQ1VR6byBqgSKlnpeFf9NVSNfR+sU0xwwfbrDNAZE8ZJDMCeKFsTJplnHybqhnYsW/dFWf7U4XlAWMZ1KJwwcn7NlyLVhcz5XnC8ceobi0yamrwIujZZvTiha1MRLs9Xu7ANnq5CBcuVSYoicsO8EvBm5fDH3vJs4vH/yuVi7dB88vu5C0VRDz07oyr6eSjh59Pjw5HHjxHTHPn3LBS2Gukzwkx12dkAFBjP3mZVnokJBNDexcI5eSyz7Ul/iFi/zmVlLho8/GS6nzIwHdNkYpnLUNZQredwNSWZSloZkE2pdb9oo7LMVRjpHHRc8JzPWwRTjMGHmP2BFj61hWRvqrZhtG5M4NSjyjRRugxaqsgXBzNac3F8xO664tX9xq0Ysc5Nre8RatOYNizwmcMaE3gSdGaSFotSWJLAkkSWmNbZ0kk2Q25iJiZdbuKWNI7Ge2/Jvn8n+8khnYdq8eHXKy9cfuRpumPowVhVjB7YhzSjKSsxKwrwiKwqiXBMeS6I0J9UQH3MCWRda+tBN4WYH38XgVm7dk6e7Fi6WMHJaw1h6dxcpXPWDyeQzrjvE8+/Zm6fM7rs487co1ZekSNtId8vdWv4x5IDE+VEa2MP1LIk+SbonravtSnMfpJhS/VxX/AYP1Tykx5MU8gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"reflow-2\"\n        title=\"\"\n        src=\"/static/36e58e0fc1496e235e6d7784f18646da/37523/reflow-02.png\"\n        srcset=\"/static/36e58e0fc1496e235e6d7784f18646da/e9ff0/reflow-02.png 180w,\n/static/36e58e0fc1496e235e6d7784f18646da/f21e7/reflow-02.png 360w,\n/static/36e58e0fc1496e235e6d7784f18646da/37523/reflow-02.png 720w,\n/static/36e58e0fc1496e235e6d7784f18646da/302a4/reflow-02.png 1080w,\n/static/36e58e0fc1496e235e6d7784f18646da/07a9c/reflow-02.png 1440w,\n/static/36e58e0fc1496e235e6d7784f18646da/9b29b/reflow-02.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>웹 성능</strong>을 결정하는 중요한 요소는 위의 다이어그램에서 보이는 <strong>Main Thread 점유 시간과 여부</strong>입니다. 첫 번째의 경우 <strong>DOM</strong>을 삽입하는 과정이 일어났기 때문에, 그리고 두 번째의 경우 <strong>DOM</strong>의 <code class=\"language-text\">display</code> <strong>style</strong> 속성이 <code class=\"language-text\">none</code>이 되었기 때문에, <strong>Style</strong> 단계는 물론 <strong>Layout</strong> 계산 과정도 모두 다시 수행됩니다.</p>\n<br/>\n<h3>02 Repaint(리페인트)</h3>\n<p>➡️ 재결합된 <strong>Render Tree</strong>를 기반으로 다시 <strong>Paint</strong>를 하는 것</p>\n<h4>02-1 <code class=\"language-text\">$elem.style.backgroundColor = 'blue'</code></h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5a56f312f3b3365902d4756788a2fdb0/9b29b/repaint-01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACPElEQVR42o2TWW/TUBCF8/d54R8g8YKKxEMDCMTyUBa1RW2ApkVNk9RpFrvE+xLvvr4fYzfihRcsHc+9c8dnzp0ZD9Aa3dY90ApoHiBrrTv7f+hihYlB2xZY1pjZ7TmWOSbNlsTJgiK7o8pXvc3ydY/uLMs3pOly71v99WUSp5qMgW5zxl7Im+WOY9Phw8Ll3cLDi71eZVjs+LiJObISvns73m/S3nb7IzPh3Il5s9oxdn0JF0JE4chLeHbt88WKGM48DuchXhLRNpqgyHkxcTicepw4OQcSd+LmDOcBr24DTr2Mg5uQke1DK4StygnzLU4V4yYmhn/PKrAocksCfKrKxi0lQRngZRJXyDr7TVCFGPaSy/kFl8sZhjmh7RQqVYjUNaiVXHFDXlkoZQqZQG32WPeIqhVmsZAEd9znButkhhlPMcIJdjp/IGw7wvZeyLZCYpEVJk0tJM1GmvdAqPfEVrVmePUJo1xx5vzizL1mWVscO9esxdfXsMgi0nBG5E6opGOlckWhLQlsSWRLHTs4ksAhqR0sKUVQ2/jKwRPbrR05i6Q0WpUMjn/c8OjJkMdPX/L224x5BDeuRnrDXSiitYiTV1IrdrWmahrSumVXKtKipmghK2sS2TcSN5Ap4HSruZAmjUTYidzuVMr3Vco26iohY57LvG9TF9/9yXT6Gd+/JAiviKzXGFcHeIvnuO5IkiJjI3+K3G2P7vN/HyXurC5lgAP8wBYbkheRDL1025fhjqWZ0v261fwBd9I9+qc88joAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"repaint-1\"\n        title=\"\"\n        src=\"/static/5a56f312f3b3365902d4756788a2fdb0/37523/repaint-01.png\"\n        srcset=\"/static/5a56f312f3b3365902d4756788a2fdb0/e9ff0/repaint-01.png 180w,\n/static/5a56f312f3b3365902d4756788a2fdb0/f21e7/repaint-01.png 360w,\n/static/5a56f312f3b3365902d4756788a2fdb0/37523/repaint-01.png 720w,\n/static/5a56f312f3b3365902d4756788a2fdb0/302a4/repaint-01.png 1080w,\n/static/5a56f312f3b3365902d4756788a2fdb0/07a9c/repaint-01.png 1440w,\n/static/5a56f312f3b3365902d4756788a2fdb0/9b29b/repaint-01.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이 예시의 경우 <strong>Reflow</strong> 과정과 달리 <strong>Repaint</strong> 과정이 발생하면 <strong>Layout</strong> 단계는 수행하지 않고 건너뛰어 <strong>Paint</strong> 단계부터 수행합니다. 이렇게 <strong>Paint</strong> 단계부터 재실행되는 것을 <strong>Repaint</strong>라고 부릅니다.</p>\n<h4>02-2 <code class=\"language-text\">transform: translate3D(100%, 50%)</code></h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dd6f57ce73708014a8ddf798e40a25f3/9b29b/repaint-02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACJ0lEQVR42l2Sy2/TQBDG8/8fOMAJcUPlcQABQoWKQwWVQKgtj1AoJGncOImbxG/H77V3f4ydIkWs9embGe9+szszA4zBaNUD0wLNDmIb03HT8779fwyjdr58A61LHGfI+OoMZzkky2ckW4syv6YubKpiRl3aPXp7PyZcdn65kP0z2iZnYHTB0I84nKV8XLq8szyOLJ8g8dG6RalUUFILGpWhmmbH4leCpEiJ04wki3aCyA3P/S2PLgNOnJiXY58Xkwh/G8thIygoK0VZKzlQiIimbTsxiamGtCzw5UJxJ9iKoG4LomKNWyd42yXT4AY7dORZDuiAVm2knH6Ptl5DzyupW0AUWFjWkKUzYbX6s7thl820c9loy6YFRb2UTEvxF1Lvec//EFQ2s/KatWCRW1wnY+x4xCj8zSqdoPsbypONvhExycqNPGMjgrd+F98TdOo5ry7eY4nwqfuTM+8SWzl8Ep5LzHSCqsrIojF5fEWRTKTjv0jjaR8r0xm6cQUbmSSXrXJxpBShJA1aF1+4s135F9ddaSoG08WG+8+OuXtwyIPnx9x5eMjB28/ce3zEm5NzuqVaLWItqTLU0uVMGpNWLVkpjdGQS9O24jda5jCs4IsHZ67p+XsIX4VPXbBi0wvmMrvrzCPwvjEafSAIfhBGF8TOa6YXT/Ctp3jeuSRFxkamW4p4i3371pfVCuWqIi9CgnAjHFGUsQzzijCwyRJpZhmhtOEv8N5CjGgcby8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"repaint-2\"\n        title=\"\"\n        src=\"/static/dd6f57ce73708014a8ddf798e40a25f3/37523/repaint-02.png\"\n        srcset=\"/static/dd6f57ce73708014a8ddf798e40a25f3/e9ff0/repaint-02.png 180w,\n/static/dd6f57ce73708014a8ddf798e40a25f3/f21e7/repaint-02.png 360w,\n/static/dd6f57ce73708014a8ddf798e40a25f3/37523/repaint-02.png 720w,\n/static/dd6f57ce73708014a8ddf798e40a25f3/302a4/repaint-02.png 1080w,\n/static/dd6f57ce73708014a8ddf798e40a25f3/07a9c/repaint-02.png 1440w,\n/static/dd6f57ce73708014a8ddf798e40a25f3/9b29b/repaint-02.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이 예시의 경우, <strong>Repaint</strong> 과정이 발생하면 첫 번째 경우와 달리 <strong>Layout</strong> 부터 <strong>Layerize</strong> 과정은 건너뛰고, 복사된 <strong>Commit</strong> 레이어를 사용하여 렌더링하므로 상대적으로 빠르게 동작한다고 볼 수 있습니다. 이 경우에 해당하는 과정을 <strong>Composition Only</strong>, 즉 <strong>합성</strong>이라고 부릅니다. <code class=\"language-text\">transform</code> 속성뿐만 아니라 <code class=\"language-text\">opacity</code> 속성의 변경도 이 <strong>Composition Only</strong> 과정을 거칩니다.</p>\n<blockquote>\n<p>✅ <b>합성(Composition)</b>은 웹 페이지가 어떻게 보여져야 할 지에 대한 정보를 <strong>픽셀</strong>로 <strong>Rasterize</strong> 한 후 <strong>Composition Frame</strong>을 생성하는 과정이라고 말할 수 있습니다.</p>\n<p><strong>Reflow</strong>의 예시 중 두 번째 경우와 같이 <strong>Main Thread</strong> 단계를 건너뛰고 <strong>복사된 Commit 레이어</strong>를 바탕으로 <strong>Composition Frame</strong>을 생성하기 때문에, <strong>CSS 애니메이션</strong>은 사용자의 인터렉션을 방해하지 않는다는 것을 예상해 볼 수 있습니다. <code class=\"language-text\">JavaScript</code> 코드 중 비동기 처리에 의해 데이터를 받아오지 못해 비즈니스 Value를 보여주지 못하더라도, 우리가 부드러운 <code class=\"language-text\">CSS</code> 애니메이션을 볼 수 있는 이유입니다.</p>\n</blockquote>\n<br/>\n<br/>\n<hr/>\n<h2>3. Conclusion</h2>\n<p>위와 같이 발생하는 <strong>Reflow</strong>와 <strong>Repaint</strong>를 발생시키는 요소들을 최소화할 수록 <strong>웹 성능 최적화</strong>를 이뤄낼 수 있다고 생각합니다. 하지만, 근래에는 다양한 <code class=\"language-text\">CSS</code> 애니메이션을 요구하는 서비스가 많아지면서 이를 당연히 피할 수 없을 것이라고 생각합니다.</p>\n<p>그래도, <strong>Bottleneck</strong> 현상을 유발하는 과정들을 최소화하면, 서비스에서 제공하는 성능 최적화와 동시에 <strong>UX</strong> 측면에서 조금이나마 더 나은 서비스를 구현할 수있지 않을까라고 생각합니다. 이렇게 브라우저의 렌더링 과정과 렌더링 성능에 영향을 미치는 요인들에 대해서 정리해보았습니다.</p>\n<br/>\n<br/>\n<hr/>\n<h3>🖼️ <strong>Reference</strong></h3>\n<p><b><a href=\"https://cabulous.medium.com/how-does-browser-work-in-2019-part-5-optimization-in-the-interaction-stage-66b53b8ec0ad\">How does browser work step by step [latest] — optimization in the interaction stage (part 5)</a></b></p>\n<br/>\n<br/>","frontmatter":{"title":"Web Browser Rendering Process with Performance Optimization","date":"August 26, 2023","description":"브라우저의 렌더링 과정에 대한 정리입니다.","category":"Web"}},"previous":{"fields":{"slug":"/Initial-Setup-Routine/"},"frontmatter":{"title":"My Initial Setup Routine With MAC After Reset"}},"next":{"fields":{"slug":"/retrospect-2023-08/"},"frontmatter":{"title":"Deploy 2023.01-08"}}},"pageContext":{"id":"c95248fc-7edd-5048-912b-8c326107ab2b","previousPostId":"869cfd7f-fa18-5ec8-8f8b-a96a225a46b1","nextPostId":"93ee3cc0-df42-5f4e-8060-ed8174a23963"}},"staticQueryHashes":["707948987","805692932"],"slicesMap":{}}