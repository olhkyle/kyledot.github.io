{"componentChunkName":"component---src-templates-blog-post-js","path":"/browser-render-process/","result":{"data":{"site":{"siteMetadata":{"title":"Kyle.dot"}},"markdownRemark":{"id":"c6444902-24ab-5d3e-a9db-33c6dfd2d6f2","excerpt":"1. Web Browser Rendering Process 브라우저는 서버에 요청을 전송하기 위해 주소창을 제공하는데, 주소창에 URL을 입력하고  키를 누르면, URL의 host(domain) 이름이 DNS(물리적인 서버의 위치에 대한 요청을 판단하는 역할을 한다. IP address…","html":"<h2>1. Web Browser Rendering Process</h2>\n<ol>\n<li><strong>브라우저</strong>는 <strong>서버</strong>에 요청을 전송하기 위해 주소창을 제공하는데, 주소창에 URL을 입력하고 <code class=\"language-text\">Enter</code> 키를 누르면, <strong>URL</strong>의 <strong>host(domain)</strong> 이름이 <strong>DNS</strong>(물리적인 서버의 위치에 대한 요청을 판단하는 역할을 한다. IP address로 바꿔주는 역할)를 통해 <strong>IP 주소</strong>로 변환되고, IP 주소를 갖는 <strong>서버</strong>에 요청을 전송합니다.</li>\n<li>즉, <strong>브라우저</strong>는 <code class=\"language-text\">HTML</code> <code class=\"language-text\">CSS</code> <code class=\"language-text\">JavaScript</code> 이미지, 폰트 등 렌더링에 필요한 <strong>정적 리소스</strong>를 요청하고, <strong>서버</strong>로부터 응답을 받습니다.</li>\n<li><strong>브라우저의 렌더링 엔진</strong>은 서버로부터 응답받은 <code class=\"language-text\">HTML</code> <code class=\"language-text\">CSS</code>를 Parsing하여 <strong>DOM</strong>과 <strong>CSSOM</strong>을 생성하고, 이 둘을 결합하여 <code class=\"language-text\">Render Tree</code>를 생성합니다.</li>\n<li><strong>브라우저의 JS 엔진</strong>은 서버로부터 응답받은 <code class=\"language-text\">JavaScript</code>를 파싱하여 <code class=\"language-text\">AST(Abstract Syntax Tree)</code>를 생성하고 바이트 코드로 변환하여 실행합니다. <strong>DOM API</strong>를 통해 <strong>DOM</strong>이나 <strong>CSSOM</strong>을 변경할 수 있습니다. 변경된 <strong>DOM</strong> 과 <strong>CSSOM</strong> 은 <strong>Render Tree</strong>에 다시 <strong>재결합</strong>됩니다.</li>\n<li>결합된 <code class=\"language-text\">Render Tree</code>를 기반으로, <code class=\"language-text\">HTML</code> 요소의 레이아웃을 계산 <strong>Reflow</strong> 하고, 브라우저 화면에 <code class=\"language-text\">HTML</code> 요소를 <strong>Repaint</strong> 하는 과정을 거치며 화면에 UI가 보여집니다.</li>\n</ol>\n<br/>\n<h3>☕️ Detail Description About HTML Parsing and DOM Generation</h3>\n<blockquote>\n<p>✅ <strong>브라우저</strong>의 요청에 의해 <strong>서버</strong>가 응답한 <strong>HTML</strong> 문서는 <b>문자열</b>로 이루어진 순수한 텍스트입니다.</p>\n</blockquote>\n<p>이 순수한 텍스트를 브라우저 화면에 시각적인 픽셀로 렌더링하려면 <code class=\"language-text\">HTML</code> 문서를 브라우저가 이해할 수 있는 <b>자료구조(객체)</b>로 변환해서 <b>메모리</b>에 저장해야 합니다.</p>\n<p>응답받은 <code class=\"language-text\">HTML</code> 문서를 파싱하여 브라우저가 이해할 수 있는 자료구조인 <b>DOM(Document Object Model)</b>을 생성합니다.</p>\n<blockquote>\n<p><strong>바이트</strong> 코드 → <strong>문자</strong> → <strong>토큰</strong>(텍스트 문자) → <strong>노드</strong>(html, head, meta, link …) → <strong>DOM</strong></p>\n<ul>\n<li>각 토큰들을 <strong>객체</strong>로 변환하여 <strong>Node</strong>들을 구성합니다. 토큰의 내용에 따라 문서 노드, 요소 노드, 어트리뷰트 노드, 텍스트 노드가 생성됩니다. <strong>Node</strong>는 <strong>DOM을 구성하는 기본 요소</strong>가 됩니다.</li>\n<li><code class=\"language-text\">HTML</code> 요소는 <strong>중첩 관계</strong>를 갖습니다. <code class=\"language-text\">HTML</code> 콘텐츠 영역에서는 텍스트 뿐만 아니라 다른 HTML 요소도 포함될 수 있습니다. <code class=\"language-text\">HTML</code> 요소 간의 <strong>중첩 관계</strong>에 의해 <strong>부자 관계</strong>가 형성됩니다.</li>\n<li>이러한 중첩 관계를 반영하여 모든 노드들을 <strong>트리 자료구조 | DOM Tree</strong>로 구성합니다. 이 노드들로 구성된 <strong>트리 자료구조</strong>를 <code class=\"language-text\">DOM</code>이라고 합니다.</li>\n</ul>\n</blockquote>\n<h3>☕️☕️ Then, What happened after Render Tree is combined?</h3>\n<blockquote>\n<p><strong>DOM</strong>과 <strong>CSSOM</strong>을 생성하고, <code class=\"language-text\">JavaScript</code> 코드에 작성된 <strong>DOM API</strong>에 의한 변경사항이 반영된 <strong>Render Tree</strong> 결합 이후 과정의 <strong>세부적인 단계</strong>까지 살펴보면 아래의 <strong>다이어그램</strong>과 같습니다.</p>\n</blockquote>\n<blockquote>\n<p>아래의 키워드 중 <strong>Raster</strong>는 픽셀로 시각화하는 과정을 의미합니다.</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/01d23b21eeecd62f008099b496c71d02/9b29b/render-process.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB+ElEQVR42o2SbW/aMBRG+f+/Y+r2ra02TdW6aS0D1nUgFVKomhYKgVDyRlJIYiexfTZCJ02aqu5KR8+Vr3Rs2W5gDEaXNRgFZpfVP9RzYDK2Of10QrvVpNNq0vp2zsX3do1SFQ2tBa7bx77/ibscIOScNJuRZlOyfP6cDmk+QwgHZ9Gn1ztlYDW5tS+wrs+xhi2GwyZluaVhdE4/TPjwsKEbbDlbbjl/TOkFW06clG6w4etiz27+eSmwtpJOKGn5gn6S82VVMEw2GJXRQAu64YY31yE/IsnxfVzL217GwTCktUo5vA1qOkHOwSii7ecc2hHHdxGdIOVgtOZyFYHOaGiVE4sVvkyIshWhjAhERJR7+EVSZyjXe7IVvogJs0fWRczYmzK4u2IwtRkvbtCqFgqMmoNyQC+g7ueg/6w9p3JIihkLMSGQDyzzMc7GZvF0yzi+wUvv/hJWTi19CV1vssAtHI6sM8ZyxqV/zWUwYlq6tP0Rjpzt71DrAl15r+BjSo+n0sPNXdalR6R8wtKre7/ySQoPoySN3d8y5mV2VZQVRx9P6FkjlDGkpWIrFakoERoyWbKRikqbvfC1yiqYeA88uhfYdpMoGrCOLRL3PWPrLeHkHUHQZVPyf0JlQKoSIRLCtUeWx+QiQexeO5qRPs3JRUz5+4S/AJvAO/kvXYNPAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"browser render process\"\n        title=\"\"\n        src=\"/static/01d23b21eeecd62f008099b496c71d02/37523/render-process.png\"\n        srcset=\"/static/01d23b21eeecd62f008099b496c71d02/e9ff0/render-process.png 180w,\n/static/01d23b21eeecd62f008099b496c71d02/f21e7/render-process.png 360w,\n/static/01d23b21eeecd62f008099b496c71d02/37523/render-process.png 720w,\n/static/01d23b21eeecd62f008099b496c71d02/302a4/render-process.png 1080w,\n/static/01d23b21eeecd62f008099b496c71d02/07a9c/render-process.png 1440w,\n/static/01d23b21eeecd62f008099b496c71d02/9b29b/render-process.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>위의 과정은 아래에서 언급할 <strong>Reflow</strong>와 <strong>Repaint</strong>를 설명할 기반이 됩니다.</p>\n<br/>\n<br/>\n<hr>\n<h2>2. Reflow &#x26; Repaint</h2>\n<p>브라우저의 렌더링 과정은 <strong>웹 성능 최적화</strong>를 위해 알아야 할 필수 과정입니다. 웹 성능 최적화를 위해서는 브라우저에서 진행되는 렌더링 과정 자체를 개선할 수 없기 때문에, 중간에 발생하는 <strong>Bottleneck 현상</strong>을 개선하는 것이 중요합니다.</p>\n<p>웹 성능을 개선해야 하는 가장 큰 요소는 <strong>Reflow</strong>와 <strong>Repaint</strong>가 있습니다. 이 2가지는 주로, 최초 렌더링 이후 <strong>스타일 변경</strong>이나 <strong>DOM 요소의 추가/삽입</strong>으로 인해 발생합니다.</p>\n<p><strong>DOM 파싱</strong> 단계에서의 최적화를 다루면 좋지만, 현재로서는 쉽게 접근 가능한 <strong>스타일 계산</strong>과 같은 최적화 대상에 대해서만 다루겠습니다. 이후에 기회가 된다면, 제가 진행한 <b><a href=\"https://github.com/olhkyle/trello\">Vanilla Trello</a></b> 프로젝트를 진행하면서, <strong>DOM</strong>을 동적 생성했을 때 어떻게 효율적으로 렌더링할 수 있는 지에 대한 부분을 <strong>DOM</strong> 파싱 단계에서의 최적화와 같이 다뤄보겠습니다.</p>\n<br/>\n<h3>01 Reflow(리플로우)</h3>\n<blockquote>\n<p><strong>👨‍🚀 레이아웃 계산을 다시하는 것에 해당되는 경우</strong></p>\n<p>🔦 자바스크립트에 의한 <strong>Node</strong> 추가 / 삭제</p>\n<p>🔦 <strong>DOM</strong> 요소의 크기(<code class=\"language-text\">width</code> <code class=\"language-text\">height</code>...) / 위치(<code class=\"language-text\">position</code>...) 변경</p>\n<p>🔦 <strong>Window</strong> Resizing</p>\n</blockquote>\n<h4>01-1 <code class=\"language-text\">document.body.appendChild(node)</code></h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c911e0e5e85aceb344a6a5f73a84708e/9b29b/reflow-01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACDUlEQVR42pWT227TQBRF8/8SEp+AhKC8taKA4IVSlV5UGlpS2jQJaeNbE489duJ4fB3PAjulfeGFIy3traPRPkczmh4YjKk7QIOpoPX/SZeBodc0Obb1neHNMa57QV64pMoiVTNU5jyo3fHYS//2ns4pdYeuFb2mTjmxXLbHIQfWnM/eiv25oh+s+WinnAUJe+6Gfrjmk5N2uudtet/EivfWmh+BxOiHwENH8OpKsu8t2RmHvJslHPqK11chXxcp26Og40hkbF1LjoKMnUnE218Rx6Fi6ybmzJfQtIE64z6ymEifRWwT5LJDZj6iXHYaFtEGtUDkMaGaE5UxU3/GYHLBYDZm6g5pug11jq5dstIF44J2NjSt2k+qbZalhZvfEhR33GdT7GSMuxoxjYf46eQhsCnQek5eLaBxaWrnEaOfaId4pc3O5RemhcWp+MlpcM2s8jgU19iFtbnDulRIf4jwR+jSAQQYv8M0Pk3dIqAWJJXAyzyiykdqQVj5nRe1YFn6GF3Qm3mCZy92ef7yA3sDh7sEJqFhFMJ8TVe1NiSVZl0ZyromrRrWhSbNK/IGVFGRFJq6MfSiAvohnEs4XcCRCyceHDgwkptAVcMiDZDBOaPRPlIOiOJLlt4u08stwts3BMEZSQW99qdgmg2t/0dpA6oqUFmEjHxUFpPlS/L2taVFunLI8pjqz4a/AQf1PL98cAhNAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"reflow-1\"\n        title=\"\"\n        src=\"/static/c911e0e5e85aceb344a6a5f73a84708e/37523/reflow-01.png\"\n        srcset=\"/static/c911e0e5e85aceb344a6a5f73a84708e/e9ff0/reflow-01.png 180w,\n/static/c911e0e5e85aceb344a6a5f73a84708e/f21e7/reflow-01.png 360w,\n/static/c911e0e5e85aceb344a6a5f73a84708e/37523/reflow-01.png 720w,\n/static/c911e0e5e85aceb344a6a5f73a84708e/302a4/reflow-01.png 1080w,\n/static/c911e0e5e85aceb344a6a5f73a84708e/07a9c/reflow-01.png 1440w,\n/static/c911e0e5e85aceb344a6a5f73a84708e/9b29b/reflow-01.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h4>01-2 <code class=\"language-text\">$elem.style.display = 'none'</code></h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/36e58e0fc1496e235e6d7784f18646da/9b29b/reflow-02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACHUlEQVR42o2RS2/TQBRG8/8lNvwCFqCyK1AVqV20BdFUasMjKUqTtHk4tpvY40die/ycmQOxBTskrnR0v/kWR6OZHsZgdN2CUUDTccim+W/MAQw9rQtcd8js6Q7XGZLJFftkQZYtkbndnmW+bumyTZb96ay/nZRLVCPpGZ0zDGJOVynXjs/5QnC+DOg7gjNbMhAJl07H1yDlzM7afel23Z2/59RKGYoQoyQ9dMEgSHgzDvns7jieBrx/irlYhxw9RHzZphxPRUvfzzkah/RFzrvHiA9PETeB5GgSM/BC0JKeVjlxvsWv9ojEYR4+Y0UuInUR1Z4w9wjKqENu8YuYQG6Iqpi5t2L0+IPRasbceUCrVlhg1BqUBcYmr1yUckA7cOi13W21ZldZOMUCUS55zueskxnOfso8fsDLHjuhOgj1BsymlcjCoaltTGOjGxujOlA2brXm3f0V89Li1v/JrRizql2u/THr0uresKklSTAhjaboyqFoBEp7YDyM9tDNAR8an6T2cXOXqPYIlU9Qe232G59d5WFUSW/p+rx4dcLL1x+5GtnMYpgIwySATUo7jTIktSKtDVXTkNWatFRkRU2hQZY1SalotKEXFnCzhW8B3G6g78C1AxcrGAedUDawzQSh+M50+okwHBHF9+zcE+b3RwSLtwgxIKmhBwaM7vjHKAOyLpF5RBh5yDwmL3YUh98OLbK9TV7E1L9v+AsP1TykQjdaXQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"reflow-2\"\n        title=\"\"\n        src=\"/static/36e58e0fc1496e235e6d7784f18646da/37523/reflow-02.png\"\n        srcset=\"/static/36e58e0fc1496e235e6d7784f18646da/e9ff0/reflow-02.png 180w,\n/static/36e58e0fc1496e235e6d7784f18646da/f21e7/reflow-02.png 360w,\n/static/36e58e0fc1496e235e6d7784f18646da/37523/reflow-02.png 720w,\n/static/36e58e0fc1496e235e6d7784f18646da/302a4/reflow-02.png 1080w,\n/static/36e58e0fc1496e235e6d7784f18646da/07a9c/reflow-02.png 1440w,\n/static/36e58e0fc1496e235e6d7784f18646da/9b29b/reflow-02.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>웹 성능</strong>을 결정하는 중요한 요소는 위의 다이어그램에서 보이는 <strong>Main Thread 점유 시간과 여부</strong>입니다. 첫 번째의 경우 <strong>DOM</strong>을 삽입하는 과정이 일어났기 때문에, 그리고 두 번째의 경우 <strong>DOM</strong>의 <code class=\"language-text\">display</code> <strong>style</strong> 속성이 <code class=\"language-text\">none</code>이 되었기 때문에, <strong>Style</strong> 단계는 물론 <strong>Layout</strong> 계산 과정도 모두 다시 수행됩니다.</p>\n<br/>\n<h3>02 Repaint(리페인트)</h3>\n<p>➡️ 재결합된 <strong>Render Tree</strong>를 기반으로 다시 <strong>Paint</strong>를 하는 것</p>\n<h4>02-1 <code class=\"language-text\">$elem.style.backgroundColor = 'blue'</code></h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5a56f312f3b3365902d4756788a2fdb0/9b29b/repaint-01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACLElEQVR42o2TS28TMRSF5++z4R8gsUFFYtEAKuKxKA+1RW2ApkVJkzSPycyUzHsyGXtetj+YJGLDBkufjn1tHx1dyxbGYHSzA6OAdo9RGNPp/9GdNRgsrUs8b8Dk/grPHVCIJZt8TikW1NLeqZCrHd2ekA5FsTzU7L81IRaoVmAZLRlEKSfLLWduwPt5yNt5RLSJdinTcssHZ8Opl/Mt2vLOKXbarU/dnKtgw4m9ZRDGGCWw0CX9KOfZMOazl9GbRBxPU6I8Q7eGpJS8GAUcjyPOA8nRMOY8lPSmCa/uEy4iwdFdSt+PQQssrSSpXBPUG8LcZRY/YCcepfRAx9S1T1ilRFVCJNYEZUokfpHUKTN/yc30mpvlhJk7QncJlSoxagXKBuMgaw+lXNAuKOfAakdW27jlnLBa8CBnrPIJ7mbMLB3hF9O9oe4M9QOYNWgPUbq0jQOtg2n3huZg7NUrercfmVU2l8FPLsMhy8bjLBiyqux9D0uRUaQTsnBELZZUKkQpH4yP0T667QigDcibAE96JI1PrAKixt/NgzYgq32MqrDOvt/x6EmPx09f8ubrhGkGd6FhEsEiBW1AaUPeKLaNoW5bikazrRRF2VBqEFVDXilabbCcAi7WhusY+j6cO3DhwpcV9LtOAFLBugiJwx+Mx5+I4xuS9JbMe83s9oho/pww7JM3YHU/BaMPdNf/HcqAaCqETIgTHyFTZJlRdq8d2xQbB1mmNH8S/gZ30j364eb70AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"repaint-1\"\n        title=\"\"\n        src=\"/static/5a56f312f3b3365902d4756788a2fdb0/37523/repaint-01.png\"\n        srcset=\"/static/5a56f312f3b3365902d4756788a2fdb0/e9ff0/repaint-01.png 180w,\n/static/5a56f312f3b3365902d4756788a2fdb0/f21e7/repaint-01.png 360w,\n/static/5a56f312f3b3365902d4756788a2fdb0/37523/repaint-01.png 720w,\n/static/5a56f312f3b3365902d4756788a2fdb0/302a4/repaint-01.png 1080w,\n/static/5a56f312f3b3365902d4756788a2fdb0/07a9c/repaint-01.png 1440w,\n/static/5a56f312f3b3365902d4756788a2fdb0/9b29b/repaint-01.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이 예시의 경우 <strong>Reflow</strong> 과정과 달리 <strong>Repaint</strong> 과정이 발생하면 <strong>Layout</strong> 단계는 수행하지 않고 건너뛰어 <strong>Paint</strong> 단계부터 수행합니다. 이렇게 <strong>Paint</strong> 단계부터 재실행되는 것을 <strong>Repaint</strong>라고 부릅니다.</p>\n<h4>02-2 <code class=\"language-text\">transform: translate3D(100%, 50%)</code></h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dd6f57ce73708014a8ddf798e40a25f3/9b29b/repaint-02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACHElEQVR42l2QyW/TQBjF8/8fOMAJcUNlOYAAoQLiUEElEGrLUgqFNo0bN3HTeE9sz9jfLD+wU6SKkZ7ecnjf04zwHu9kAN4CZgNv8b5nM/BN/X+Gl43HM3JOE0WHnJ7tE80PqZspq3WAbs7pVEirpnQ6HDDom5maonuvZ+hmijUNI+8Uh2nB9rTiwzzmbZDwJkjJVinOWUQqRDSdaIzUiDEbFk0rmpWqKKuaVV1sCnGag3TNg+OM3ajk+WnKs3FBui4R4xGj0K2gO8EaRSsOa/syQYuh0oo0LSj7QtswclZRqCvibkWynjPJLgnziFZF4DKsLPE2HWC7Kxh4AT6jyAKC4JB5NGax+L1Z2F/z9gJsCH6G6uZYOwc7w5uLgf8ha0Om+pwrfc6sCThfnRKWJ5zkv1hUY9yw0Gm8uwS/AC7RssTaa9/nNwqj7oIXR+8I2pC9+Af7yTGhRHxMjrloQ3xfKG1NXZzSlGeo1Zgo+klVToZMV1OciXFmCSZmLTGRishlSWZjUlkOOjYxZdd/TctoMlty98kOt7e2ufd0h1v3t9l6/Yk7D9/waveA/ol1rMVSiaczhlocVWuptaAdNK2wbi3GeUZ5C58T2I/9wN9y+JLAXgxB6YfCxsBVnZAlXzk5eU+WfScvjiijl0yOHpEGj0mSA9YCI/Dg3TVu6msPWA+NtDQqJ8uXNKpA6RLdLMizkHo1Q+kC+bvwD/DeQowUCUDcAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"repaint-2\"\n        title=\"\"\n        src=\"/static/dd6f57ce73708014a8ddf798e40a25f3/37523/repaint-02.png\"\n        srcset=\"/static/dd6f57ce73708014a8ddf798e40a25f3/e9ff0/repaint-02.png 180w,\n/static/dd6f57ce73708014a8ddf798e40a25f3/f21e7/repaint-02.png 360w,\n/static/dd6f57ce73708014a8ddf798e40a25f3/37523/repaint-02.png 720w,\n/static/dd6f57ce73708014a8ddf798e40a25f3/302a4/repaint-02.png 1080w,\n/static/dd6f57ce73708014a8ddf798e40a25f3/07a9c/repaint-02.png 1440w,\n/static/dd6f57ce73708014a8ddf798e40a25f3/9b29b/repaint-02.png 3840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이 예시의 경우, <strong>Repaint</strong> 과정이 발생하면 첫 번째 경우와 달리 <strong>Layout</strong> 부터 <strong>Layerize</strong> 과정은 건너뛰고, 복사된 <strong>Commit</strong> 레이어를 사용하여 렌더링하므로 상대적으로 빠르게 동작한다고 볼 수 있습니다. 이 경우에 해당하는 과정을 <strong>Composition Only</strong>, 즉 <strong>합성</strong>이라고 부릅니다. <code class=\"language-text\">transform</code> 속성뿐만 아니라 <code class=\"language-text\">opacity</code> 속성의 변경도 이 <strong>Composition Only</strong> 과정을 거칩니다.</p>\n<blockquote>\n<p>✅ <b>합성(Composition)</b>은 웹 페이지가 어떻게 보여져야 할 지에 대한 정보를 <strong>픽셀</strong>로 <strong>Rasterize</strong> 한 후 <strong>Composition Frame</strong>을 생성하는 과정이라고 말할 수 있습니다.</p>\n<p><strong>Reflow</strong>의 예시 중 두 번째 경우와 같이 <strong>Main Thread</strong> 단계를 건너뛰고 <strong>복사된 Commit 레이어</strong>를 바탕으로 <strong>Composition Frame</strong>을 생성하기 때문에, <strong>CSS 애니메이션</strong>은 사용자의 인터렉션을 방해하지 않는다는 것을 예상해 볼 수 있습니다. <code class=\"language-text\">JavaScript</code> 코드 중 비동기 처리에 의해 데이터를 받아오지 못해 비즈니스 Value를 보여주지 못하더라도, 우리가 부드러운 <code class=\"language-text\">CSS</code> 애니메이션을 볼 수 있는 이유입니다.</p>\n</blockquote>\n<br/>\n<br/>\n<hr/>\n<h2>3. Conclusion</h2>\n<p>위와 같이 발생하는 <strong>Reflow</strong>와 <strong>Repaint</strong>를 발생시키는 요소들을 최소화할 수록 <strong>웹 성능 최적화</strong>를 이뤄낼 수 있다고 생각합니다. 하지만, 근래에는 다양한 <code class=\"language-text\">CSS</code> 애니메이션을 요구하는 서비스가 많아지면서 이를 당연히 피할 수 없을 것이라고 생각합니다.</p>\n<p>그래도, <strong>Bottleneck</strong> 현상을 유발하는 과정들을 최소화하면, 서비스에서 제공하는 성능 최적화와 동시에 <strong>UX</strong> 측면에서 조금이나마 더 나은 서비스를 구현할 수있지 않을까라고 생각합니다. 이렇게 브라우저의 렌더링 과정과 렌더링 성능에 영향을 미치는 요인들에 대해서 정리해보았습니다.</p>\n<br/>\n<br/>\n<hr/>\n<h3>🖼️ <strong>Reference</strong></h3>\n<p><b><a href=\"https://cabulous.medium.com/how-does-browser-work-in-2019-part-5-optimization-in-the-interaction-stage-66b53b8ec0ad\">How does browser work step by step [latest] — optimization in the interaction stage (part 5)</a></b></p>\n<br/>\n<br/>","frontmatter":{"title":"Web Browser Rendering Process with Performance Optimization","date":"August 26, 2023","description":"브라우저의 렌더링 과정에 대한 정리입니다.","category":"Web"}},"previous":{"fields":{"slug":"/Initial-Setup-Routine/"},"frontmatter":{"title":"My Initial Setup Routine With MAC After Reset"}},"next":{"fields":{"slug":"/retrospect-2023-08/"},"frontmatter":{"title":"Deploy 2023.01-08"}}},"pageContext":{"id":"c6444902-24ab-5d3e-a9db-33c6dfd2d6f2","previousPostId":"a16cdc9f-daf0-5ead-bae3-6ec50e21d986","nextPostId":"1162dbca-f788-5db7-b792-1d51bc237584"}},"staticQueryHashes":["707948987","805692932"],"slicesMap":{}}